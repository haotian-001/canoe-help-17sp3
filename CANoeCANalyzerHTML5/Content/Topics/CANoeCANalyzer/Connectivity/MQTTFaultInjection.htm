<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="CANoeCANalyzer.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>MQTT Fault Injection</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/vTableMasterPageHeader.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vStylesheet.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../Resources/Stylesheets/vTableSymbol.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vTable.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.CrossFrame.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMediaQueries.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAliasFile.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedbackHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSkinHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapNavigateTopics.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapLms.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapELearning.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMicroContentComponent.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearchHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicElements.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTriPane.js" type="text/javascript" defer="defer">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/SyntaxHighlighting.js">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/TabSwitch.js">
        </script>
        <script type="text/javascript" src="../../../Resources/vScripts/Vector.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../CANoeCANalyzer.htm#Topics/CANoeCANalyzer/Connectivity/MQTTFaultInjection.htm">Open topic with navigation</a>
        </p>
        <div class="Body">
            <div role="main" id="mc-main-content">
                <div>
                    <p class="StructurePath"><a href="../CANoeCANalyzer.htm" class="StructurePath" data-mc-conditions="vConditions.CANalyzerExclude,vConditions.CANoe4ServerExcluded,vConditions.CANoe4SWExcluded,vConditions.TestDataEditorExcluded,vConditions.vTESTstudioExcluded,vConditions.TestUnitRunnerExcluded,vConditions.CANoeNMExcluded"><img src="../../../Resources/vImages/vToolIcons/CANoe_Icon16.png" alt="" />&#160;CANoe</a> » <a href="Connectivity.htm" class="StructurePath">Connectivity</a> » MQTT&#160;Fault Injection</p>
                    <h1>MQTT&#160;Fault Injection</h1>
                    <p class="MenuPath">&#160;</p>
                    <p class="AutoSearchFilterConcepts"><a name="aanchor7250"></a>
                        <MadCap:concept term="SFCore" />
                    </p>
                    <p class="IndexConcept"><a name="kanchor5486"></a>
                    </p>
                </div>
                <h2 class="SectionMain">Introduction</h2>
                <p>The use of the CANoe Hosted MQTT Broker enables fault injection within the MQTT communication. This allows the MQTT client to be tested in situations that would not be possible if the MQTT protocol were followed correctly.</p>
                <p>The distributed object _MQTT::FaultInjection::HostedBrokerFICaller provides the different fault injections in the form of <a href="../../vCDL/Language/vCDLMethods.htm">methods</a>.</p>
                <div>
                    <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                        <col class="TableStyle-vTableSymbol-Column-Column1" />
                        <col class="TableStyle-vTableSymbol-Column-Column2" />
                        <tbody>
                            <tr>
                                <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                    <p class="Table">
                                        <img src="../../../Resources/vImages/vInfo.png" style="width: 48px;height: 45px;" title="Note" alt="Note" />
                                    </p>
                                </td>
                                <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                    <p class="TableSymbolHead">Note</p>
                                    <p>A distinction is made between one-time or permanent fault injections.</p>
                                    <p><span class="bold">Permanent fault injections</span>: Remain even after the event has occurred. They can only be canceled by the <a href="#BMSevenCancel">CancelAllPermanentFaultInjections</a> function.</p>
                                    <p><span class="bold">One-time fault injections</span>: Are triggered and have a fixed, finite duration.</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p>The data types used from the _MQTT::DataTypes namespace are described in more detail under <a href="MQTTDataTypes.htm">MQTT Data Types</a>.</p>
                <h2 class="SectionMain">Fault Injections</h2>
                <h3>1.	DisconnectClient</h3>
                <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                    <tbody>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Function Name</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>DisconnectClient</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Syntax</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>DisconnectClient(ClientId)</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Description</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>The connection between Broker and the defined client is disconnected.</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep" rowspan="2">
                                <p class="TableHead">Parameter</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Name</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Data Type</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Description</p>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>ClientId</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>String</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                <p>Client Identifier of the client whose connection is to be disconnected.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3>2.	SendMessageToClient</h3>
                <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                    <tbody>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Function Name</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>SendMessageToClient</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Syntax</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>SendMessageToClient(Message,
 ClientId)</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Description</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>This function sends a message to a client even if the client is not subscribed to the specified topic is subscribed to.</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep" rowspan="3">
                                <p class="TableHead">Parameter</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Name</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Data Type</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Description</p>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Message</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p><a href="MQTTDataTypes.htm">_MQTT::DataTypes::MQTTPublishMessage</a>
                                </p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>The MQTT Publish message to be sent to the client.</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>ClientId</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>String</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                <p>Client Identifier of the client that should receive the message.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3>3.	InvertNextCleanSessionFlag</h3>
                <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                    <tbody>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Function Name</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>InvertNextCleanSessionFlag</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Syntax</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>InvertNextCleanSessionFlag(ClientId)</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Description</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>On the next CONNECT message received from the defined client identifier, the CleanSession flag is inverted.</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep" rowspan="2">
                                <p class="TableHead">Parameter</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Name</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Data Type</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Description</p>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>ClientId</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>String</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                <p>Client
 Identifier of the clients</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3>4.	SendMultipleMessages</h3>
                <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                    <tbody>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Function Name</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>SendMultipleMessages</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Syntax</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>SendMultipleMessages(Message,
 NumberOfMessages, ClientId)</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Description</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Sends a Publish message n times to the specified client if the client is subscribed to  the used topic.</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep" rowspan="4">
                                <p class="TableHead">Parameter</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Name</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Data Type</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Description</p>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Message</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p><a href="MQTTDataTypes.htm">_MQTT::DataTypes::MQTTPublishMessage</a>
                                </p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>The MQTT Publish message to be sent to the client.</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>NumberOfMessages</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Uint64</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>The number of how often Message should be sent to the client. With a 0 no messages are messages are sent.</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>ClientId</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>String</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                <p>The client Identifier of the client that should receive the messages.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3>5.	DelayNextConnack</h3>
                <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                    <tbody>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Function Name</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>DelayNextConnack</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Syntax</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>DelayNextConnack(DelayInMilliseconds,
 ClientId)</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Description</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>The next CONNACK is delayed by a specified time for the selected client. This does not have to be connected at the time of the function call. If the function is called again, the previous call is overwritten for this ClientId.</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep" rowspan="3">
                                <p class="TableHead">Parameter</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Name</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Data Type</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Description</p>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>DelayInMilliseconds</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Uint64</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>The number of milliseconds by which the next CONNACK is to be delayed. The value 0 corresponds to no delay.</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>ClientId</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>String</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                <p>The Client Identifier of the client for which the next CONNACK is to be delayed.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3>6.	DelayMessages</h3>
                <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                    <tbody>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Function Name</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>DelayMessages</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Syntax</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>DelayMessages(DelayInMilliseconds,
 ClientId)</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Description</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Delays all messages of the defined client by a certain time. If this time is greater than the KeepAlive time, the connection will be disconnected by the KeepAlive mechanism. If the function is called again, the previous call for this ClientId is overwritten.</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep" rowspan="3">
                                <p class="TableHead">Parameter</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Name</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Data Type</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Description</p>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>DelayInMilliseconds</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Uint64</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>The number of milliseconds by which all messages to the client are delayed.</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>ClientId</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>String</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                <p>The Client Identifier of the client for which the messages are to be delayed.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3><a name="BMSevenCancel" id="BMSevenCancel"></a>7.	CancelAllPermanentFaultInjections</h3>
                <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                    <tbody>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Function Name</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>CancelAllPermanentFaultInjections</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Syntax</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>CancelAllPermanentFaultInjections(ClientId)</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Description</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Stops all persistent error injections for the specified client. These are currently</p>
                                <ul>
                                    <li>
                                        <p class="ListItem">  DelayMessages</p>
                                    </li>
                                    <li>
                                        <p class="ListItem">  IgnoreRetainsPermanently</p>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep" rowspan="2">
                                <p class="TableHead">Parameter</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Name</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Data Type</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Description</p>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>ClientId</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>String</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                <p>The Client Identifier of the client for which persistent error injections should be stopped.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3>8.	DeleteLastWillMessage</h3>
                <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                    <tbody>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Function Name</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>DeleteLastWillMessage</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Syntax</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>DeleteLastWillMessage(ClientId)</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Description</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Any LastWill message from the specified client will be deleted by the broker.</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep" rowspan="2">
                                <p class="TableHead">Parameter</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Name</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Data Type</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Description</p>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>ClientId</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>String</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                <p>The Client Identifier of the client whose LastWill message is to be deleted.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3>9.	IgnoreFixedNumberOfRetains</h3>
                <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                    <tbody>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Function Name</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>IgnoreFixedNumberOfRetains</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Syntax</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>IgnoreFixedNumberOfRetains(ClientId,
 NumberOfMessages)</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Description</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>The next n Publish messages sent by the client that have the Retain flag set to True are treated as if the Retain flag is set to False.</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep" rowspan="3">
                                <p class="TableHead">Parameter</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Name</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Data Type</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Description</p>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>ClientId</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>String</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>The Client Identifier of the client whose message is to be treated modified.</p>
                            </td>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>NumberOfMessages</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>Uint64</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                <p>The number of  messages with the retain option enabled for which it will be ignored. If this parameter is 0, no messages are modified.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3>10.	IgnoreRetainsPermanently</h3>
                <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                    <tbody>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Function Name</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>IgnoreRetainsPermanently</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Syntax</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>IgnoreRetainsPermanently(ClientId)</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p class="TableHead">Description</p>
                            </th>
                            <td colspan="3" class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Publish Messages sent from the client will be treated as if the Retain option was not used.</p>
                            </td>
                        </tr>
                        <tr>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep" rowspan="2">
                                <p class="TableHead">Parameter</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Name</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                <p>Data Type</p>
                            </th>
                            <th class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                <p>Description</p>
                            </th>
                        </tr>
                        <tr>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>ClientId</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                <p>String</p>
                            </td>
                            <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                <p>The Client Identifier of the client whose messages are to be modified.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h2 class="SectionMain">Example</h2>
                <p>The following is an example of both C# and CAPL of how to call the methods.</p>
                <p><a targets="C#" href="javascript:void(0)" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" data-mc-targets="C#"><img class="MCToggler_Image_Icon" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />C#</a>
                </p>
                <div style="display: none;" data-mc-target-name="C#">
                    <p class="SourceCode">using System;<br />using Vector.Tools;<br />using Vector.CANoe.Runtime;<br />using Vector.CANoe.Threading;<br />public class FaultInjectionExample : MeasurementScript<br />{<br />&#160;&#160;public override void Start()<br />&#160;&#160;{<br />&#160;&#160;&#160;&#160;var message = new _MQTT.DataTypes.MQTTPublishMessage();<br />&#160;&#160;&#160;&#160;message.DUP.ImplValue = false;<br />&#160;&#160;&#160;&#160;message.Retain.ImplValue = true;<br />&#160;&#160;&#160;&#160;message.Payload.SetBytes(BitConverter.GetBytes(20));<br />&#160;&#160;&#160;&#160;message.PublishTopic = "YourMQTTTopic";<br />&#160;&#160;&#160;&#160;message.QoS.ImplValue = 0;<br />&#160;&#160;&#160;&#160;_MQTT.FaultInjection.HostedBrokerFICaller.SendMessageToClient.CallAsync (message, “TargetClientId");<br />&#160;&#160;}<br />}</p>
                </div>
                <p><a targets="CAPL" href="javascript:void(0)" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" data-mc-targets="CAPL"><img class="MCToggler_Image_Icon" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />CAPL</a>
                </p>
                <div style="display: none;" data-mc-target-name="CAPL">
                    <p class="SourceCode">/*@!Encoding:1252*/<br />includes<br />{<br /><br />}<br /><br />variables<br />{<br /><br />}<br /><br />on start<br />{<br />&#160;&#160;struct _MQTT::DataTypes::MQTTPublishMessage msg;<br />&#160;&#160;msg.DUP = 0;<br />&#160;&#160;msg.QoS = 0;<br />&#160;&#160;msg.PublishTopic = "Your/MQTT/Topic";<br />&#160;&#160;msg.Retain = 1;<br />&#160;&#160;memcpy(msg.Payload,"Payload");<br /><br />&#160;&#160;_MQTT::FaultInjection::HostedBrokerFICaller.SendMessageToClient.CallAsync(msg, "TargetClientId");<br />}</p>
                </div>
                <p><a targets="Python" href="javascript:void(0)" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_ MCHotSpotImage" data-mc-targets="Python"><img class="MCToggler_Image_Icon" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Python</a>
                </p>
                <div style="display: none;" data-mc-target-name="Python">
                    <p class="TableSourceCode">import vector.canoe<br />from application_layer import _MQTT<br />@vector.canoe.measurement_script<br />class FICaller:<br />&#160;&#160;def initialize(self):<br />&#160;&#160;&#160;&#160;pass<br />&#160;&#160;def start(self):<br />_MQTT.FaultInjection.HostedBrokerFICaller.DisconnectClient.call("TargetClientId");<br />&#160;&#160;def stop(self):<br />&#160;&#160;&#160;&#160;pass<br />&#160;&#160;def shutdown(self):<br />&#160;&#160;&#160;&#160;pass</p>
                </div>
                <p class="LinkList">&#160;</p>
            </div>
        </div>
        <div class="Footer">
            <div class="FooterWhite">
                <table class="FooterWhite" style="border-collapse: collapse;margin-left: auto;margin-right: auto;">
                    <col style="width: 70px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col style="width: 16px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col />
                    <tbody>
                        <tr>
                            <td>
                                <div class="buttons popup-container clearfix topicToolbarProxy topicToolbarProxyFooter _Skins_HTML5TopicToolbar mc-component nocontent">
                                    <div class="button-group-container-left">
                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                            <div>
                                                <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                        <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                            <div>
                                                <div role="img" class="button-icon-wrapper">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <p class="vec_BuildInfo"><a href="../../Shared/HowToUseOnlineHelp.htm" title="Tips for using the help" alt="Tips for using the help"><img src="../../../Resources/vImages/vBackstage/vHelpInfo.png" /></a>
                                </p>
                            </td>
                            <td>
                                <p class="vec_BuildInfo" style="text-align: right;"><span class="mc-variable Vector.BuildTime variable">2023-09-26T19:49:32</span>
                                </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <table style="width: 100%;border-collapse: separate;border-spacing: 3px 0px;margin-left: auto;margin-right: auto;caption-side: top;">
                <col />
                <col />
                <col />
                <col data-mc-conditions="vConditions.HTML5Link" />
                <tbody>
                    <tr>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;">
                            <p class="vec_Footer">©&#160;Vector Informatik GmbH</p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;text-align: right;">
                            <p class="vec_FooterBold">
                                <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded,vConditions.TestDataEditorExcluded">CANoe</MadCap:conditionalText> Version <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded">17 SP3</MadCap:conditionalText></p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="../../Shared/ContactCopyrightLicense.htm" class="vec_Footer MCXref xref xrefvec_Footer">Contact/Copyright/License</a>
                            </p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="https://www.vector.com/int/en/company/get-info/privacy-policy/" target="_blank" class="vec_Footer">Data Privacy Notice</a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>