<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="" data-mc-search-type="Stem" data-mc-help-system-file-name="CANoeCANalyzer.xml" data-mc-path-to-help-system="../../../../" data-mc-conditions="vConditions.CANoeOnly" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>XCP on FlexRay</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/vTableMasterPageHeader.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vStylesheet.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../Resources/Stylesheets/vTable.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vTableSymbol.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.CrossFrame.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMediaQueries.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAliasFile.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedbackHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSkinHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapNavigateTopics.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapLms.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapELearning.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMicroContentComponent.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearchHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicElements.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTriPane.js" type="text/javascript" defer="defer">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/SyntaxHighlighting.js">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/TabSwitch.js">
        </script>
        <script type="text/javascript" src="../../../Resources/vScripts/Vector.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../CANoeCANalyzer.htm#Topics/CANoeCANalyzer/AMDXCP/XCPonFlexRay.htm">Open topic with navigation</a>
        </p>
        <div class="Body">
            <div role="main" id="mc-main-content">
                <p class="StructurePath"><a href="AMDXCP.htm" class="StructurePath">Option&#160;AMD/XCP</a> » <span class="mc-variable System.Title variable">XCP on FlexRay</span></p>
                <h1><span class="mc-variable System.Title variable">XCP on FlexRay</span>
                </h1>
                <p class="MenuPath">&#160;</p>
                <p class="AutoSearchFilterConcepts"><a name="aanchor10173"></a>
                    <MadCap:concept term="SFCore" />
                </p>
                <div>
                    <h2 class="SectionSub">Supported XCP Types in CANoe</h2>
                    <p><span class="Product">CANoe</span> uses both frames and PDUs, which must be defined in an AUTOSAR or FIBEX database, for the transmission of XCP data.</p>
                    <ul>
                        <li>In AUTOSAR databases that contain <span class="bold">PDUs</span>, only PDUs of the following type are used:</li>
                        <li class="Indent">XCP-PDU</li>
                        <li>For databases that only contain <span class="bold">frames</span>, the following frame types are taken into account:</li>
                        <li class="Indent">XCP_PRE_CONFIGURED</li>
                        <li class="Indent">XCP_RUNTIME_CONFIGURED</li>
                    </ul>
                    <p>In the static part (static part of schedule), only XCP_PRE_CONFIGURED types are used. The following rules apply to these:</p>
                    <ul>
                        <li>Every XCP slave has its exclusive PDUs</li>
                        <li>No reconfiguration during runtime is possible</li>
                        <li>Unique master &lt;&gt; slave assignment</li>
                        <li>No slot multiplexing</li>
                    </ul>
                    <p>In the dynamic part (dynamic part of schedule), both types are used. The following rules apply to these:</p>
                    <ul>
                        <li>XCP_PRE_CONFIGURED</li>
                        <li class="Indent">Preconfigured frames/PDUs</li>
                        <li class="Indent">Exclusive multiplexing &gt; 1 per slot</li>
                        <li>XCP_RUNTIME_CONFIGURED</li>
                        <li class="Indent">Frames/PDUs can be configured during runtime</li>
                        <li class="Indent">Initialization by the master</li>
                    </ul>
                </div>
                <div>
                    <h2 class="SectionSub">Definition</h2>
                    <p>This XCP type is defined differently depending on the network description format. For AUTOSAR files, the type is described by the &lt;CATEGORY&gt; XML element:</p>
                    <p>
                        <img src="../../../Resources/Images/CANoeCANalyzer/xcpFR01Autosar.png" />
                    </p>
                    <p>For FIBEX files with Version 3 and higher, the type is defined in the &lt;PDU-TYPE&gt; element:</p>
                    <p>
                        <img src="../../../Resources/Images/CANoeCANalyzer/xcpFR02Fibex.png" />
                    </p>
                    <p>For older FIBEX files in 2.x format, the type is defined in the &lt;FRAME-TYPE&gt; element:</p>
                    <p>
                        <img src="../../../Resources/Images/CANoeCANalyzer/xcpFR03FibexOld.png" />
                    </p>
                </div>
                <div>
                    <h2>CANoe configuration</h2>
                    <p>For an XCP measurement to be possible, the following requirements must be met:</p>
                    <ul>
                        <li>The name of the file (green marking) must match the name of the FlexRay database configured in <span class="Product">CANoe</span>.</li>
                        <li>The ID of the cluster from the A2L file (blue marking) must match the ID of the cluster from the FlexRay database file.</li>
                    </ul>
                    <p>
                        <img src="../../../Resources/Images/CANoeCANalyzer/xcpFR04CANoeConfig_464x161.png" style="width: 464;height: 161;" />
                    </p>
                    <p>In the <span class="bold">Transmit Buffers Configuration</span>, the XCP_PRE_CONFIGURED and the XCP_RUTIME_CONFIGURED frames are <span class="bold">not</span> configured as PDU buffers.</p>
                    <div>
                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                            <col class="TableStyle-vTableSymbol-Column-Column1" />
                            <col class="TableStyle-vTableSymbol-Column-Column2" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                        <p class="Table">
                                            <img src="../../../Resources/vImages/vStep.png" style="width: 48px;height: 45px;" title="Procedure" alt="Procedure" />
                                        </p>
                                    </td>
                                    <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                        <p class="TableSymbolHead">Three Ways to Open the Transmit Buffers Configuration</p>
                                        <div class="Procedure">
                                            <p>Context Menu of a Node:</p>
                                            <div class="Procedure">
                                                <ol>
                                                    <li value="1">Set a right click on a node in the Simulation Setup.</li>
                                                    <li value="2">Click the <span class="bold">Configuration</span> menu command in the context menu.</li>
                                                    <li value="3">Open page whose title contains the network name.</li>
                                                    <li value="4">Click the <span class="bold">Configuration</span> button.</li>
                                                </ol>
                                                <p>Open via the ribbon:</p>
                                                <ol>
                                                    <li value="1"><a href="../Ribbon/RibbonHardware.htm"><span class="GUI">Hardware</span> ribbon tab</a>|<a href="../Ribbon/Hardware/NetworkHardware.htm" class="GUI">Network Hardware</a>.</li>
                                                    <li value="2">Expand <span class="bold">FlexRay</span> channel.</li>
                                                    <li value="3">Click <span class="bold">Tx Buffer</span>.</li>
                                                    <li value="4">Click the <span class="bold">Tx Buffer Configuration</span> button.</li>
                                                </ol>
                                                <p>Open via the Cluster Node:</p>
                                                <ol>
                                                    <li value="1">set a double click or a right click on the cluster node in the Simulation Setup.</li>
                                                    <li value="2">If necessary, click the <span class="bold">Network Hardware</span> command in the context menu.</li>
                                                    <li value="3">See steps 2-4 above.</li>
                                                </ol>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p>The buffers are configured as frame buffers if you clear the check box for the respective frames in the <span class="bold">Used for PDUs</span> column. See red marking in the figure below. The corresponding simulation node (e.g., XCP_Master must be configured in the Simulation Setup):</p>
                    <p>
                        <img src="../../../Resources/Images/CANoeCANalyzer/xcpFR05XCPMaster.png" />
                    </p>
                </div>
                <div>
                    <h2 class="SectionSub">Other CANoe Settings</h2>
                    <p>You can make further protocol settings in the XCP configuration of <span class="Product">CANoe</span>. The A2L file does not have to be edited for this. These settings are saved together with the <span class="Product">CANoe</span> configuration; see figure below.</p>
                    <div>
                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                            <col class="TableStyle-vTableSymbol-Column-Column1" />
                            <col class="TableStyle-vTableSymbol-Column-Column2" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                        <p class="Table">
                                            <img src="../../../Resources/vImages/vStep.png" style="width: 48px;height: 45px;" title="Procedure" alt="Procedure" />
                                        </p>
                                    </td>
                                    <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                        <p class="TableSymbolHead">Access the XCP Configuration</p>
                                        <div class="Procedure">
                                            <ol>
                                                <li value="1"><a href="../Ribbon/RibbonDiagnostics.htm" data-mc-conditions="vConditions.CANalyzerExclude"><span class="GUI">Diagnostics &amp; XCP</span> ribbon tab</a>|<a href="XCPWindow.htm" class="bold">XCP/CCP</a></li>
                                                <li value="2">Click the respective XCP device.</li>
                                            </ol>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p>
                        <img src="../../../Resources/Images/CANoeCANalyzer/xcpFR06DeviceConfiguration.png" />
                    </p>
                    <ul>
                        <li>The value in the <span class="bold">Response Timeout</span> input field should be large enough that the entire configuration sequence at the start of the measurement can be completed within this time. Otherwise the XCP measurement will be canceled.<br />See T1_FLX in the following section.</li>
                        <li>In addition, the value in the <span class="bold">Node Address</span> input field must be set correctly.<br />See NAX in the following section.</li>
                    </ul>
                </div>
                <div>
                    <h2 class="SectionSub">A2L Configuration</h2>
                    <p>The XCP_ON_FLX section of the A2L file consists of the following parameters:</p>
                    <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');margin-left: 0;margin-right: auto;" class="TableStyle_vTable" cellspacing="0">
                        <col />
                        <col />
                        <thead>
                            <tr>
                                <th class="TableStyle_vTable_Head_0_0_RowSep_ColSep">
                                    <h3>Syntax</h3>
                                </th>
                                <th class="TableStyle_vTable_Head_0_0_RowSep_ColEnd">
                                    <h3>Parameter</h3>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                    <p class="SourceCode">/begin XCP_ON_FLX<br />&#160;&#160;256<br />&#160;&#160;1000<br />&#160;&#160;"XCPsim.xml"<br />&#160;&#160;"Cluster_1"<br />&#160;&#160;0x1<br />&#160;&#160;HEADER_NAX_LEN<br />&#160;&#160;PACKET_ALIGNMENT_8<br />&#160;&#160;…<br />/end XCP_ON_FLX</p>
                                </td>
                                <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                    <ul>
                                        <li>0x100 &gt; XCP on FlexRay 1.0</li>
                                        <li>T1_FLX [ms]</li>
                                        <li>FIBEX-file including CHI information</li>
                                        <li>Cluster-ID</li>
                                        <li>NAX</li>
                                    </ul>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <p>For an XCP measurement to function properly, the following requirements must be met:</p>
                    <ul>
                        <li>The name of the file (green marking) must match the name of the FlexRay database configured in <span class="Product">CANoe</span>.</li>
                        <li>The ID of the cluster from the A2L file (blue marking) must match the ID of the cluster from the FlexRay database file.</li>
                    </ul>
                    <p>
                        <img src="../../../Resources/Images/CANoeCANalyzer/xcpFR07Example_454x162.png" style="width: 454;height: 162;" />
                    </p>
                    <ul>
                        <li>The specified <span class="bold">Timeout</span> must be large enough to ensure that the start sequence at the start of the measurement can be executed within this time (typical value is approximately 1000 ms to 2000 ms).</li>
                        <li><span class="bold">NAX</span> is the node address for XCP (this is typically transmitted in the first byte of a FlexRay frame).</li>
                    </ul>
                </div>
                <p class="LinkList">&#160;</p>
            </div>
        </div>
        <div class="Footer">
            <div class="FooterWhite">
                <table class="FooterWhite" style="border-collapse: collapse;margin-left: auto;margin-right: auto;">
                    <col style="width: 70px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col style="width: 16px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col />
                    <tbody>
                        <tr>
                            <td>
                                <div class="buttons popup-container clearfix topicToolbarProxy topicToolbarProxyFooter _Skins_HTML5TopicToolbar mc-component nocontent">
                                    <div class="button-group-container-left">
                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                            <div>
                                                <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                        <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                            <div>
                                                <div role="img" class="button-icon-wrapper">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <p class="vec_BuildInfo"><a href="../../Shared/HowToUseOnlineHelp.htm" title="Tips for using the help" alt="Tips for using the help"><img src="../../../Resources/vImages/vBackstage/vHelpInfo.png" /></a>
                                </p>
                            </td>
                            <td>
                                <p class="vec_BuildInfo" style="text-align: right;"><span class="mc-variable Vector.BuildTime variable">2023-09-26T19:49:32</span>
                                </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <table style="width: 100%;border-collapse: separate;border-spacing: 3px 0px;margin-left: auto;margin-right: auto;caption-side: top;">
                <col />
                <col />
                <col />
                <col data-mc-conditions="vConditions.HTML5Link" />
                <tbody>
                    <tr>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;">
                            <p class="vec_Footer">©&#160;Vector Informatik GmbH</p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;text-align: right;">
                            <p class="vec_FooterBold">
                                <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded,vConditions.TestDataEditorExcluded">CANoe</MadCap:conditionalText> Version <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded">17 SP3</MadCap:conditionalText></p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="../../Shared/ContactCopyrightLicense.htm" class="vec_Footer MCXref xref xrefvec_Footer">Contact/Copyright/License</a>
                            </p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="https://www.vector.com/int/en/company/get-info/privacy-policy/" target="_blank" class="vec_Footer">Data Privacy Notice</a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>