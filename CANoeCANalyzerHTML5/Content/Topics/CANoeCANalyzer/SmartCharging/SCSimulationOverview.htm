<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="" data-mc-search-type="Stem" data-mc-help-system-file-name="CANoeCANalyzer.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>Simulation Overview (Smart Charging)</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/vTableMasterPageHeader.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vStylesheet.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../Resources/Stylesheets/vTableSymbol.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.CrossFrame.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMediaQueries.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAliasFile.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedbackHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSkinHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapNavigateTopics.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapLms.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapELearning.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMicroContentComponent.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearchHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicElements.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTriPane.js" type="text/javascript" defer="defer">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/SyntaxHighlighting.js">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/TabSwitch.js">
        </script>
        <script type="text/javascript" src="../../../Resources/vScripts/Vector.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../CANoeCANalyzer.htm#Topics/CANoeCANalyzer/SmartCharging/SCSimulationOverview.htm">Open topic with navigation</a>
        </p>
        <div class="Body">
            <div role="main" id="mc-main-content">
                <p class="StructurePath"><a href="SmartCharging.htm" class="StructurePath">SmartCharging</a> » <span class="mc-variable System.Title variable">Simulation Overview (Smart Charging)</span></p>
                <h1>Simulation Overview</h1>
                <div>
                    <p class="MenuPath">&#160;</p>
                    <p class="AutoSearchFilterConcepts"><a name="aanchor2922"></a>
                        <MadCap:concept term="SFCore" />
                    </p>
                    <p class="IndexConcept"><a name="kanchor2241"></a>
                    </p>
                </div>
                <h2 class="SectionMain">Simulation Modes and States</h2>
                <h3>Simulation Basics</h3>
                <p>There are three main use cases:</p>
                <ul>
                    <li><span class="bold">Active simulation mode</span>: A charge point or vehicle is simulated <span class="bold">automatically</span>, using the internal state machine and data from an XML configuration file</li>
                    <li><span class="bold">Passive simulation mode</span>: A charge point or vehicle tester is implemented by sending Vehicle2Grid and/or SLAC message <span class="bold">manually</span>, using CAPL functions and data provided</li>
                    <li><span class="bold">Monitoring</span>: No simulation takes place. Instead, the communication between two existing SCC modules is observed using the SCC Monitor and/or the SCC Observer.</li>
                </ul>
                <h3>State Diagram</h3>
                <p>The simulation module can be in one of the following states. CAPL functions for state transitions are denoted next to the state transition arrows.</p>
                <p>
                    <img src="../../../Resources/Images/CANoeCANalyzer/SmartCharging/SmartCharge_StateDiagram_471x392.png" style="width: 471;height: 392;" />
                </p>
                <h3>Active Mode</h3>
                <p>Active simulation mode is a straightforward mode of simulation, where minimal intervention from CAPL is necessary. In this mode, the module runs a state machine that conforms to one of the supported specifications, thus providing a counterpart to an exist vehicle or charge point implementation.</p>
                <p>All necessary data and CAPL implementation to run an active simulation is provided as part of the sample configurations.</p>
                <h3>Passive Mode</h3>
                <p>Passive simulation mode allows running a module without starting the SCC state machine. This results in a simulation which does not sent SCC messages by itself, but which can be commanded to send any message using the test functions (refer to <a href="SCTestFunctions.htm#FreeSLAC">Test Functions</a>).</p>
                <p>It is important to note what can and what can’t be done when in passive mode. The following applies:</p>
                <ul>
                    <li>Callbacks from incoming messages are received </li>
                    <li>It is possible to call <a href="../../CAPLFunctions/SmartCharging/CAPLFunctionsSmartChargingOverview.htm">CAPL functions</a> (for charge points and for vehicles) to query detailed information for a received message</li>
                    <li>It is not possible to set any parameter for an outgoing message or any protocol related parameter using the regular CAPL functions. Outgoing messages are created exclusively using the function of section 6.2.</li>
                    <li>A TCP/TLS connection is still established automatically when SECC Discovery messages are received. This is necessary to enable the sending of V2G messages.</li>
                </ul>
                <h3>Combination of both modes</h3>
                <p>Combining both modes is possible with some restrictions, as the test functions for sending messages can be used in any state of the module besides the <span class="bold">Off</span> state. Thus it is possible to run an active simulation, pause it and continue by manually sending messages.</p>
                <h2 class="SectionSub">AC and DC Charging Operation</h2>
                <h3>Basics</h3>
                <p>Direct current (DC) and alternating current (AC) charging operations use different SCC messages and status descriptions. Differentiation is made during runtime based on the parameter <span class="SourceCode">EVRequestedEnergyTransferType</span>, or <span class="SourceCode">ChargingMode</span> for older protocol versions. If a vehicle module is used, the parameter can be assigned as desired. If no user input is made, the vehicle module starts an AC charging operation.</p>
                <h3>Effects on CAPL interface</h3>
                <p>Based on the differences in the protocol, not all API functions and callbacks are available for both charging modes. Also, some functions have two signatures: one valid for AC and one for DC. Please observe the notes and corresponding code (<span class="bold">AC</span> or <span class="bold">DC</span>) in the respective function descriptions.</p>
                <h2 class="SectionSub">Pausing and Resuming</h2>
                <h3>Functionality</h3>
                <p>A paused simulation behaves essentially like a deactivated simulation (see functions <span class="SourceCode"><a href="../../CAPLFunctions/SmartCharging/Functions/CAPLfunctionSCCStartSimulation.htm">SCC_StartSimulation()</a></span>, <span class="SourceCode"><a href="../../CAPLFunctions/SmartCharging/Functions/CAPLfunctionSCCStopSimulation.htm">SCC_StopSimulation()</a></span>), except that it remembers its protocol state and the last received message. When in pause mode, all timeout supervision is disabled. If paused during a message callback, a reply will not be sent until the protocol is resumed.</p>
                <h3>Supported cases</h3>
                <p>You can:</p>
                <ul>
                    <li>Pause the simulation on receipt of a specific message, including the SCC Discovery messages</li>
                    <li>Pause and resume the simulation from within a callback function</li>
                    <li>Change parameters via CAPL while the simulation is paused</li>
                    <li>Have these parameters applied to the next message sent</li>
                </ul>
                <h3>Not supported cases</h3>
                <p>You cannot:</p>
                <ul>
                    <li>Pause the simulation while the SLAC protocol is running</li>
                    <li>Reset the simulation from within a callback function</li>
                </ul>
                <h2 class="SectionMain"><a name="SimulationChargePoint" id="SimulationChargePoint"></a>Simulation of a Charge Point</h2>
                <p>A charge point is simulated by assigning the modeling library  <span class="bold">SCC_ChargePoint.vmodule</span> to a network node of an IP network. The node then reacts automatically to incoming SCC Requests with the corresponding response messages. The data to be sent must be configured by the user, as described in the next section.</p>
                <div>
                    <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                        <col class="TableStyle-vTableSymbol-Column-Column1" />
                        <col class="TableStyle-vTableSymbol-Column-Column2" />
                        <tbody>
                            <tr>
                                <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                    <p class="Table">
                                        <img src="../../../Resources/vImages/vCrossRef.png" style="width: 48px;height: 45px;" alt="Cross Reference" title="Cross Reference" />
                                    </p>
                                </td>
                                <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                    <p class="TableSymbolHead">Cross&#160;Reference</p>
                                    <ul>
                                        <li>Basic procedure <a href="SCProcedures/SCConfigurationChargePointSCCNodes.htm">Charge Point configuration</a>.</li>
                                        <li>For more CAPL information, click <a href="../../CAPLFunctions/SmartCharging/CAPLFunctionsSmartChargingOverview.htm">here</a>.</li>
                                    </ul>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <h2 class="SectionMain"><a name="SimulationVehicle" id="SimulationVehicle"></a>Simulation of a Vehicle</h2>
                <p>A vehicle is simulated by assigning the modeling library  <span class="bold">SCC_Vehicle.vmodule</span> to a network node of an IP network. The node then automatically sends the appropriate SCC Request messages. The data to be sent must be configured by the user, as described in the next section.</p>
                <div>
                    <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                        <col class="TableStyle-vTableSymbol-Column-Column1" />
                        <col class="TableStyle-vTableSymbol-Column-Column2" />
                        <tbody>
                            <tr>
                                <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                    <p class="Table">
                                        <img src="../../../Resources/vImages/vCrossRef.png" style="width: 48px;height: 45px;" alt="Cross Reference" title="Cross Reference" />
                                    </p>
                                </td>
                                <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                    <p class="TableSymbolHead">Cross&#160;Reference</p>
                                    <ul>
                                        <li>Basic procedures <a href="SCProcedures/SCCConfigurationVehicleSCCNodes.htm">Vehicle configuration</a>.</li>
                                        <li>For more CAPL information, click <a href="../../CAPLFunctions/SmartCharging/CAPLFunctionsSmartChargingOverview.htm">here</a>.</li>
                                    </ul>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="LinkList">&#160;</p>
            </div>
        </div>
        <div class="Footer">
            <div class="FooterWhite">
                <table class="FooterWhite" style="border-collapse: collapse;margin-left: auto;margin-right: auto;">
                    <col style="width: 70px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col style="width: 16px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col />
                    <tbody>
                        <tr>
                            <td>
                                <div class="buttons popup-container clearfix topicToolbarProxy topicToolbarProxyFooter _Skins_HTML5TopicToolbar mc-component nocontent">
                                    <div class="button-group-container-left">
                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                            <div>
                                                <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                        <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                            <div>
                                                <div role="img" class="button-icon-wrapper">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <p class="vec_BuildInfo"><a href="../../Shared/HowToUseOnlineHelp.htm" title="Tips for using the help" alt="Tips for using the help"><img src="../../../Resources/vImages/vBackstage/vHelpInfo.png" /></a>
                                </p>
                            </td>
                            <td>
                                <p class="vec_BuildInfo" style="text-align: right;"><span class="mc-variable Vector.BuildTime variable">2023-09-26T19:49:32</span>
                                </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <table style="width: 100%;border-collapse: separate;border-spacing: 3px 0px;margin-left: auto;margin-right: auto;caption-side: top;">
                <col />
                <col />
                <col />
                <col data-mc-conditions="vConditions.HTML5Link" />
                <tbody>
                    <tr>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;">
                            <p class="vec_Footer">©&#160;Vector Informatik GmbH</p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;text-align: right;">
                            <p class="vec_FooterBold">
                                <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded,vConditions.TestDataEditorExcluded">CANoe</MadCap:conditionalText> Version <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded">17 SP3</MadCap:conditionalText></p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="../../Shared/ContactCopyrightLicense.htm" class="vec_Footer MCXref xref xrefvec_Footer">Contact/Copyright/License</a>
                            </p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="https://www.vector.com/int/en/company/get-info/privacy-policy/" target="_blank" class="vec_Footer">Data Privacy Notice</a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>