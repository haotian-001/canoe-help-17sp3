<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="" data-mc-search-type="Stem" data-mc-help-system-file-name="CANoeCANalyzer.xml" data-mc-path-to-help-system="../../../../" data-mc-conditions="vConditions.CANalyzerExclude" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>Extended Real Time (VT System)</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/vTableMasterPageHeader.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vStylesheet.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../Resources/Stylesheets/vTableSymbol.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.CrossFrame.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMediaQueries.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAliasFile.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedbackHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSkinHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapNavigateTopics.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapLms.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapELearning.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMicroContentComponent.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearchHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicElements.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTriPane.js" type="text/javascript" defer="defer">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/SyntaxHighlighting.js">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/TabSwitch.js">
        </script>
        <script type="text/javascript" src="../../../Resources/vScripts/Vector.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../CANoeCANalyzer.htm#Topics/CANoeCANalyzer/VTSystem/VTSystemExtendedRealTime.htm">Open topic with navigation</a>
        </p>
        <div class="Body">
            <div role="main" id="mc-main-content">
                <div>
                    <p class="StructurePath"><a href="VTSystem.htm" class="StructurePath">VT System</a> » Extended Real Time</p>
                    <h1>Extended Real Time</h1>
                    <p class="MenuPath">&#160;</p>
                    <p class="AutoSearchFilterConcepts"><a name="aanchor634"></a>
                        <MadCap:concept term="SFCore" />
                    </p>
                    <p class="IndexConcept"><a name="kanchor508"></a>
                    </p>
                </div>
                <div>
                    <p>The <a href="../Interfaces/ExtendedRealTime/ExtendedRealTime.htm">Extended Real Time (ERT)</a> solution is an extension of Vector's RT approach, for improving realtime characteristics. For example, this can be used for triggering the calculation steps of simulation models or sending cyclically transferred signals using the CAN bus. Together with the <span class="Product">VT&#160;System</span>, shorter transfer cycle times can be used in particular and reaction times can be reduced.</p>
                    <p>RT and ERT use the separation of <span class="Product">CANoe</span> into a time-uncritical analysis area, executed on the user computer, and the time-critical simulation area, executed on a computer module.</p>
                    <p>The following devices support Extended Real Time:</p>
                    <ul>
                        <li>
                            <p class="Table"><a href="VT6000/VT6000.htm" class="Product">VT6051A</a> (<span class="Product">VT&#160;System</span>)</p>
                        </li>
                        <li>
                            <p class="Table"><a href="VT6000/VT6000.htm" class="Product">VT6060</a> (<span class="Product">VT&#160;System</span>)</p>
                        </li>
                        <li>
                            <p class="Table">various <a href="../Interfaces/VN8900/VN8900.htm" class="Product MCXref xref xrefProduct">VN8900</a> devices</p>
                        </li>
                    </ul>
                </div>
                <div>
                    <h2 class="SectionSub">How To Enable Extended Real Time in the Vector Tool Platform (VTP)</h2>
                    <div>
                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                            <col class="TableStyle-vTableSymbol-Column-Column1" />
                            <col class="TableStyle-vTableSymbol-Column-Column2" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                        <p class="Table">
                                            <img src="../../../Resources/vImages/vStep.png" style="width: 48px;height: 45px;" title="Procedure" alt="Procedure" />
                                        </p>
                                    </td>
                                    <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                        <p class="TableSymbolHead">Step by Step Procedure</p>
                                        <div class="Procedure">
                                            <ol>
                                                <li value="1">
                                                    <p class="Table">Using the user computer's <span class="Product">Vector Tool Platform</span>, establish communication between the user computer and the VT computer module:</p>
                                                    <ul>
                                                        <li>
                                                            <p class="Table">For VT computer modules, enter the IP address of the VT computer module in the <span class="GUI">General</span> section of the <span class="Product">Vector Tool Platform</span>.</p>
                                                        </li>
                                                        <li>
                                                            <p class="Table">For <a href="../Interfaces/VN8900/VN8900.htm" class="Product MCXref xref xrefProduct">VN8900</a> devices, this is usually the USB connection selection.</p>
                                                        </li>
                                                    </ul>
                                                    <p>After the connection has been established, the results of the automatic comparison of the <span class="Product">Vector Tool Platform</span> and <span class="Product">CANoe</span> versions of the user computer and VT computer module are displayed one after the other and an update is recommended if necessary.</p>
                                                </li>
                                                <li value="2">
                                                    <p class="Table">Now activate the VT computer module as RT Server in the <span class="GUI">CANoe/CANalyzer</span> section of the <span class="Product">Vector Tool Platform</span>.</p>
                                                    <p>Next you can run the analysis area of <span class="Product">CANoe</span> on the user computer and the simulation section of <span class="Product">CANoe</span> on the VT computer module.</p>
                                                </li>
                                                <li value="3">
                                                    <p class="Table">Finally, activate Extended Real Time in the <span class="GUI">Tool Platform</span> section of the <span class="GUI">Device Settings</span> of the <span class="Product">Vector Tool Platform</span>.</p>
                                                    <p>Activating or deactivating Extended Real Time will cause a restart of the used computer module.</p>
                                                </li>
                                            </ol>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div>
                    <h2 class="SectionSub">Additional Functions of VT&#160;System When Extended Real Time Is Active</h2>
                    <p>When ERT is activated and the computer module is rebooted, Extended Real Time is available, and for some measured values you can set additional transfer cycle times of 200&#160;µs and 500&#160;µs to achieve higher sampling rates, for example of the VT modules <a href="VT1004/VT1004SystemVariables.htm" class="Product">VT1004</a>, <a href="VT7001/VT7001SystemVariables.htm" class="Product">VT7001</a>, <a href="VT2808/VT2808SystemVariables.htm" class="Product">VT2808</a> and <a href="VT2816/VT2816SystemVariables.htm" class="Product">VT2816</a>. These measured values are indicated by a note in the <span class="GUI">Value/Setting</span> column in the respective lists of available measured values.</p>
                    <p>For the measured value <span class="bold">Avg128us</span> of the module <a href="VT1004/VT1004Functions.htm" class="Product">VT1004</a> and the <span class="bold">bit</span> measured values of the modules <a href="VT1004/VT1004SystemVariables.htm" class="Product">VT1004</a>, <a href="VT2516/VT2516SystemVariables.htm" class="Product">VT2516</a> and <a href="VT2848/VT2848SystemVariables.htm" class="Product">VT2848</a> the transfer cycle time 500&#160;µs is also available. With these measurement values, sampling rates &gt;&#160;1&#160;kHz are already achieved by transferring several values of different ages simultaneously. Therefore, the transfer cycle time of 500&#160;µs does not achieve a higher sampling rate here. Instead, by using the lower transfer cycle time, you avoid sporadic short interruptions of the measured value transfer.</p>
                    <div>
                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                            <col class="TableStyle-vTableSymbol-Column-Column1" />
                            <col class="TableStyle-vTableSymbol-Column-Column2" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                        <p class="Table">
                                            <img src="../../../Resources/vImages/vInfo.png" style="width: 48px;height: 45px;" title="Note" alt="Note" />
                                        </p>
                                    </td>
                                    <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                        <p class="TableSymbolHead">Note on transfer cycle times &lt; 1 ms</p>
                                        <ul>
                                            <li>
                                                <p class="Table">Transfer cycle times &lt;&#160;1&#160;ms cause a high load. Therefore, they should usually only be used for individual measured values.</p>
                                                <p>If possible, these transfer cycle times should only be used intermittently, as described on the page <a href="VTSystemIntegrationTimeTransferCycleTime.htm">Integration Time and Transfer Cycle Time</a>.</p>
                                            </li>
                                            <li>
                                                <p class="Table">Transfer cycle times &lt;&#160;1&#160;ms only function sensibly if ERT is available.</p>
                                                <p>If you configure these transfer cycle times on systems without ERT support or load such a configuration there, an error message is output in the <a href="../Windows/Write/WriteWindow.htm" class="MCXref xref">Write Window</a>. However, it is still possible to start a measurement.</p>
                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div>
                    <h2 class="SectionSub">How To Activate Extended Real Time in CANoe</h2>
                    <p>In <span class="Product">CANoe</span>, activate Extended Real Time in the<a href="../Ribbon/File/Options/Extensions/ExtensionsCANoeRT.htm" class="GUI">Options</a> dialog by clicking the <span class="GUI">[Edit...]|Edit Extended Real Time Configuration...</span> button.</p>
                    <p>
                        <img src="../../../Resources/Images/CANoeCANalyzer/VTSystem/ERTActivation.png" alt="" />
                    </p>
                    <div>
                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                            <col class="TableStyle-vTableSymbol-Column-Column1" />
                            <col class="TableStyle-vTableSymbol-Column-Column2" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                        <p class="Table">
                                            <img src="../../../Resources/vImages/vInfo.png" style="width: 48px;height: 45px;" title="Note" alt="Note" />
                                        </p>
                                    </td>
                                    <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                        <p class="TableSymbolHead">Note on System Variables (SV) in ERT</p>
                                        <ul>
                                            <li>
                                                <p class="Table">SV can be created by ERT network nodes.</p>
                                            </li>
                                            <li>
                                                <p class="Table">SV in ERT can be processed in ERT network nodes in the <a href="../Windows/SimulationSetup/SimulationSetupWindow.htm">Simulation Setup</a>.</p>
                                            </li>
                                            <li>
                                                <p class="Table">These SV can also be displayed in the <a href="../Windows/WindowsAnalysis.htm" class="MCXref xref">Windows (Analysis)</a> of <span class="Product">CANoe</span>.</p>
                                                <p class="Table">In order to allow this for some system variables, you have to activate selective ERT synchronization from the simulation area to the analysis area of <span class="Product">CANoe</span>; otherwise, these system variables do not occur in the lists of the <a href="../Windows/WindowsAnalysis.htm" class="MCXref xref">Windows (Analysis)</a>.</p>
                                                <p class="Table"> You can add the column <a href="../../Shared/SystemVariables/SysVarConfigSystemDefined.htm" class="GUI">Sync ERT Update</a> on the <a href="../../Shared/SystemVariables/SysVarConfigSystemDefined.htm">System-Defined page</a>, and in the <a href="../../Shared/SystemVariables/SystemVariablesConfiguration.htm" class="MCXref xref">System Variables Configuration</a> dialog you can activate the option for the Variables that should be displayed in the <a href="../Windows/WindowsAnalysis.htm" class="MCXref xref">Windows (Analysis)</a>.</p>
                                                <p class="Table">The fewer system variables you synchronize, the less time is required for the necessary copying.</p>
                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div>
                    <h2 class="SectionSub">How To Use ERT Network Nodes</h2>
                    <p>With ERT network nodes you have the following advantages:</p>
                    <ul>
                        <li>
                            <p class="Table">You can use timers with shorter durations up to approx. 100&#160;µs sensibly.</p>
                            <p>So you can run simulation models with cycle times &lt;&#160;1&#160;ms.</p>
                        </li>
                        <li>
                            <p class="Table">The jitter of timer-controlled processes is reduced, e.g. for outputs via modules of the <span class="Product">VT&#160;System</span>.</p>
                            <p>This can also be used for cyclic transmission of CAN messages. However, the CAN interface must support direct access from ERT network nodes.</p>
                        </li>
                        <li>
                            <p class="Table">For some operations, the response time can be reduced and the jitter reduced.</p>
                            <p class="Table">For this, direct access to the inputs and outputs used in ERT network nodes must be supported. This is the case for all <span class="Product">VT&#160;System</span> measurements. Most outputs via <span class="Product">VT&#160;System</span> can also benefit, especially analog and digital voltage output.</p>
                            <p>Another form of "output" here can also be the sending of CAN messages.</p>
                        </li>
                    </ul>
                    <p>ERT network nodes can be created via a separate item in the <a href="../Windows/SimulationSetup/SimulationSetupWindowShortcutMenu.htm">context menu of the Simulation Setup</a>. ERT network nodes have further setting options in the context menu of the node regarding priority of execution and data transfer for processing (snapshot mode and write-through mode).</p>
                    <ul>
                        <li>
                            <p class="Table">Activation of <span class="bold">Snapshot mode</span> specifies that data for use in ERT network nodes is transferred once to an additional local buffer with the call of the controlling OnTimer procedure.</p>
                            <p class="Table">During execution of the calculation steps within the OnTimer procedure, this means that <span class="Product">CANoe</span> does not change the data.</p>
                            <p>When the OnTimer procedure ends, the newly calculated data is returned to <span class="Product">CANoe</span> from the local buffer.</p>
                        </li>
                        <li>
                            <p class="Table">Activating the <span class="bold">Write-Through mode</span>, in contrast to the Snapshot mode, specifies that the current data is used by <span class="Product">CANoe</span> in the calculation steps.</p>
                            <p class="Table">Write-through mode corresponds to the previous way of working of CAPL programs, which is to take the data from <span class="Product">CANoe</span> at the moment of calculation and to pass it back to <span class="Product">CANoe</span> at the end of the active procedure.</p>
                            <p>This also includes the possibility that used data can be changed by <span class="Product">CANoe</span> during a calculation step.</p>
                        </li>
                    </ul>
                    <p>
                        <img src="../../../Resources/Images/CANoeCANalyzer/VTSystem/NodeConfigurationERT.png" alt="" />
                    </p>
                </div>
                <div>
                    <h2 class="SectionSub">Signal Accesses for System Variables From the Extended Real Time Area</h2>
                    <p>With ERT synchronization enabled, you can also display the system variables of the ERT network nodes in the analysis area of <span class="Product">CANoe</span> and save them in logging files — there are no differences in handling.</p>
                    <p>In the simulation area of <span class="Product">CANoe</span> there are also no differences with respect to writing and reading the system variables using the <span class="bold">@</span> operator or the CAPL functions <span class="SourceCode">SysSetVariableXXX()</span>. The transfer of values from system variables of the ERT area to bus signals is also unchanged.</p>
                    <p>When executed in an ERT network node, the handler in the following example is executed with lower response time and less jitter.</p>
                    <div>
                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                            <col class="TableStyle-vTableSymbol-Column-Column1" />
                            <col class="TableStyle-vTableSymbol-Column-Column2" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                        <p class="Table">
                                            <img src="../../../Resources/vImages/vExample.png" style="width: 48px;height: 45px;" title="Example" alt="Example" />
                                        </p>
                                    </td>
                                    <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                        <p class="TableSymbolHead">Example</p>
                                        <p class="SourceCode"><span class="CodeKeyword">variables</span>
                                            <br />{<br />&#160;&#160;<span class="CodeKeyword">message</span> TestVoltages msgVoltages;<br />}<br /><br /><span class="CodeKeyword">on sysvar sysvar</span>::VTS::M2_Ch1::CurVoltage<br />{<br />&#160;&#160;<span class="CodeComment">/* get voltage information from VT input */</span><br />&#160;&#160;SetVoltage(@<span class="CodeKeyword">sysvar</span>::VTS::M2_Ch1::CurVoltage);<br />}<br /><br /><span class="CodeKeyword">void</span> SetVoltage(<span class="CodeKeyword">double</span> modelVoltage)<br />{<br />&#160;&#160;<span class="CodeComment">/* transfer VT system variable from VT input to VT output */</span><br />&#160;&#160;@<span class="CodeKeyword">sysvar</span>::VTS::M2_Ch13::Voltage = modelVoltage;<br /><br />&#160;&#160;<span class="CodeComment">/* transfer VT system variable from VT input to CAN message */</span><br />&#160;&#160;msgVoltages.VoltageSetPoint1 = modelVoltage;<br />}</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div>
                    <h2 class="SectionSub">Cyclic Control of Work Steps in an ERT Network Node</h2>
                    <p>Deterministic execution of work steps in the simulation area of <span class="Product">CANoe</span> is made possible by extending CAPL timers to seconds. These timers can now specify the time periods for timer triggering with a resolution in nanoseconds.</p>
                    <div>
                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                            <col class="TableStyle-vTableSymbol-Column-Column1" />
                            <col class="TableStyle-vTableSymbol-Column-Column2" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                        <p class="Table">
                                            <img src="../../../Resources/vImages/vExample.png" style="width: 48px;height: 45px;" title="Example" alt="Example" />
                                        </p>
                                    </td>
                                    <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                        <p class="TableSymbolHead">Example</p>
                                        <p class="SourceCode"><span class="CodeKeyword">variables</span>
                                            <br />{<br />&#160;&#160;<span class="CodeComment">/* CAPL timer, based on seconds */</span><br />&#160;&#160;<span class="CodeKeyword">timer</span> tmr_ERT_ModelTrigger;<br /><br />&#160;&#160;<span class="CodeComment">/* predefined time span between model executions */</span><br />&#160;&#160;<span class="CodeKeyword">long</span> duration_tmr_ERT_ModelTrigger = 500000;<br />}<br /><br /><span class="CodeKeyword">on start</span><br />{<br />&#160;&#160;<span class="CodeComment">/* start of ModelTimer with execution time span of 500 µs, in ERT nodes */</span><br />&#160;&#160;setTimerCyclic(tmr_ERT_ModelTrigger, duration_tmr_ERT_ModelTrigger);<br />}<br /><br /><span class="CodeKeyword">on timer</span> tmr_ERT_ModelTrigger<br />{<br />&#160;&#160;<span class="CodeComment">/* call CAPL functions with timespans of 500 µs, depending on states */</span><br />&#160;&#160;<span class="CodeKeyword">if</span> (1 == @<span class="CodeKeyword">sysvar</span>::ModelStates::ModelState1)<br />&#160;&#160;{<br />&#160;&#160;&#160;&#160;CalculateModel1();<br />&#160;&#160;}<br />&#160;&#160;<span class="CodeKeyword">if</span> (1 == @<span class="CodeKeyword">sysvar</span>::ModelStates::ModelState2)<br />&#160;&#160;{<br />&#160;&#160;&#160;&#160;CalculateModel2();<br />&#160;&#160;}<br />}</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div>
                    <h2 class="SectionSub">Cyclic Control of a MATLAB/Simulink Model (DLL) by an ERT Network Node</h2>
                    <p>To use a <span class="Product">MATLAB</span>/<span class="Product">Simulink</span> model, you must translate it using the <span class="Product">CANoe MATLAB Integration Package</span>. If you configure the translation settings accordingly, you can control the models from the ERT network node with exported functions. You can use the context menu to configure the priority of execution of the ERT network node and the data consistency.</p>
                    <div>
                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                            <col class="TableStyle-vTableSymbol-Column-Column1" />
                            <col class="TableStyle-vTableSymbol-Column-Column2" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                        <p class="Table">
                                            <img src="../../../Resources/vImages/vExample.png" style="width: 48px;height: 45px;" title="Example" alt="Example" />
                                        </p>
                                    </td>
                                    <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                        <p class="TableSymbolHead">Example</p>
                                        <p class="TableSourceCode"><span class="CodeKeyword">variables</span>
                                            <br />{<br />&#160;&#160;<span class="CodeKeyword">timer</span> tmr_ERTModel;<br />&#160;&#160;<span class="CodeKeyword">long</span> duration_tmr_ERTModel = 250000;<br />}<br /><br /><span class="CodeKeyword">on start</span><br />{<br />&#160;&#160;<span class="CodeComment">/* CAPL takes control on Simulink DLL by &lt;ModelName&gt;_init(0,0) function */</span><br />&#160;&#160;ERT_Model_01_init(0,0);<br /><br />&#160;&#160;<span class="CodeComment">/* timer is configured to cyclic execution */</span><br />&#160;&#160;setTimerCyclic (tmr_ERTModel, duration_tmr_ERTModel);<br />}<br /><br /><span class="CodeKeyword">on timer</span> tmr_ERTModel<br />{<br />&#160;&#160;<span class="CodeComment">// CAPL triggers next execution step by &lt;ModelName&gt;_step() function</span><br />&#160;&#160;ERT_Model_01_step();<br />}</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <p class="LinkList">&#160;</p>
            </div>
        </div>
        <div class="Footer">
            <div class="FooterWhite">
                <table class="FooterWhite" style="border-collapse: collapse;margin-left: auto;margin-right: auto;">
                    <col style="width: 70px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col style="width: 16px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col />
                    <tbody>
                        <tr>
                            <td>
                                <div class="buttons popup-container clearfix topicToolbarProxy topicToolbarProxyFooter _Skins_HTML5TopicToolbar mc-component nocontent">
                                    <div class="button-group-container-left">
                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                            <div>
                                                <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                        <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                            <div>
                                                <div role="img" class="button-icon-wrapper">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <p class="vec_BuildInfo"><a href="../../Shared/HowToUseOnlineHelp.htm" title="Tips for using the help" alt="Tips for using the help"><img src="../../../Resources/vImages/vBackstage/vHelpInfo.png" /></a>
                                </p>
                            </td>
                            <td>
                                <p class="vec_BuildInfo" style="text-align: right;"><span class="mc-variable Vector.BuildTime variable">2023-09-26T19:49:32</span>
                                </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <table style="width: 100%;border-collapse: separate;border-spacing: 3px 0px;margin-left: auto;margin-right: auto;caption-side: top;">
                <col />
                <col />
                <col />
                <col data-mc-conditions="vConditions.HTML5Link" />
                <tbody>
                    <tr>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;">
                            <p class="vec_Footer">©&#160;Vector Informatik GmbH</p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;text-align: right;">
                            <p class="vec_FooterBold">
                                <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded,vConditions.TestDataEditorExcluded">CANoe</MadCap:conditionalText> Version <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded">17 SP3</MadCap:conditionalText></p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="../../Shared/ContactCopyrightLicense.htm" class="vec_Footer MCXref xref xrefvec_Footer">Contact/Copyright/License</a>
                            </p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="https://www.vector.com/int/en/company/get-info/privacy-policy/" target="_blank" class="vec_Footer">Data Privacy Notice</a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>