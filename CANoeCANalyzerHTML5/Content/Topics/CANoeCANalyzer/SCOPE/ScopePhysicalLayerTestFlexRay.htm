<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="" data-mc-search-type="Stem" data-mc-help-system-file-name="CANoeCANalyzer.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>Physical Layer Test for FlexRay (Scope)</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/vTableMasterPageHeader.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vStylesheet.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.CrossFrame.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMediaQueries.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAliasFile.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedbackHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSkinHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapNavigateTopics.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapLms.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapELearning.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMicroContentComponent.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearchHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicElements.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTriPane.js" type="text/javascript" defer="defer">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/SyntaxHighlighting.js">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/TabSwitch.js">
        </script>
        <script type="text/javascript" src="../../../Resources/vScripts/Vector.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../CANoeCANalyzer.htm#Topics/CANoeCANalyzer/SCOPE/ScopePhysicalLayerTestFlexRay.htm">Open topic with navigation</a>
        </p>
        <div class="Body">
            <div role="main" id="mc-main-content">
                <div>
                    <p class="StructurePath"><a href="Scope.htm" class="StructurePath">Scope</a> » <a href="ScopePhysicalLayerTest.htm" class="StructurePath">Physical Layer Test</a> » FlexRay</p>
                    <h1>Physical Layer Test for FlexRay</h1>
                    <p class="MenuPath">&#160;</p>
                    <p class="AutoSearchFilterConcepts"><a name="aanchor3446"></a>
                        <MadCap:concept term="SFCore" />
                    </p>
                    <p class="IndexConcept"><a name="kanchor2688"></a>
                    </p>
                </div>
                <p>The signal quality of a FlexRay cluster can be verified with the bitmask analysis.</p>
                <p>The bitmask defines an area through which the signal must not cut. If portions of the signal are located within the bitmask, the Scope signals this as a bitmask violation.</p>
                <div>
                    <h2 class="SectionSub">Functions / Characteristics</h2>
                    <ul>
                        <li>The bitmask analysis is integrated in the <span class="Product">.Scope</span> option.</li>
                        <li>The bitmask analysis is performed with the differential FlexRay signal.</li>
                        <li>The differential FlexRay signal is analyzed according to the FlexRay EPL Specification V2.1.</li>
                        <li>The bitmasks can be defined by the user.</li>
                        <li>The analysis is controlled by a user-programmable CAPL test node.</li>
                        <li>The send messages of an ECU that were recorded with the Scope are analyzed.</li>
                        <li>The analysis can be limited to specific message types:</li>
                        <li class="Indent">All messages</li>
                        <li class="Indent">Messages in key slots</li>
                        <li class="Indent">All messages of the static segment</li>
                        <li class="Indent">All messages of the dynamic segment</li>
                        <li>	The result of the analysis is written in a test report.</li>
                        <li>In addition to the written test evaluation, the test report can contain screenshots of the Scope diagram. It is also possible to display the utilized bitmasks.</li>
                    </ul>
                </div>
                <div>
                    <h2 class="SectionSub">Configuration</h2>
                    <ul>
                        <li>Connect a FlexRay channel of a Vector network interface to the FlexRay cluster to be analyzed.</li>
                        <li>Connect the <span class="Product">PicoScope</span> channels to the FlexRay cluster with the probe cable.</li>
                        <li>Connect the hardware trigger connection of the Vector network interface to the trigger input of the <span class="Product">PicoScope</span>.</li>
                        <li>Create a <span class="Product">CANoe</span> configuration.</li>
                        <li class="Indent">Display the Scope Window on one of the desktops and configure it.</li>
                        <li class="Indent">The best analysis results are obtained when you set the highest possible sampling rate.</li>
                        <li class="Indent">	If you would like to generate screenshots of the Scope Window and include them in the test report, ensure that the window size is appropriate and the window layout will fit (size of the diagram area, the Trace area, and the configuration/data area).</li>
                    </ul>
                </div>
                <div>
                    <h2 class="SectionSub">Measurement</h2>
                    <ul>
                        <li>Start the measurement (<a href="../Ribbon/RibbonHome.htm"><span class="GUI">Home</span> ribbon tab</a> or <span class="GUI">&lt;F9&gt;</span> function key).</li>
                        <li>Start the test module in the <span class="GUI">BitMaskTest</span> window with the <span class="GUI">Start</span> button.</li>
                        <li>The test node contains a CAPL library that performs the following actions:</li>
                        <li class="Indent">Trigger Scope (<a href="../../CAPLFunctions/Scope/Functions/CAPLfunctionScopeTriggerNow.htm">ScopeTriggerNow</a>)</li>
                        <li class="Indent">Start the analysis (<a href="../../CAPLFunctions/Test/Functions/CAPLfunctionTestWaitScopeAnalyseSignal.htm">TestWaitScopeAnalyseSignal</a>)</li>
                        <li class="Indent">Check the results</li>
                        <li class="Indent">Create the test report</li>
                    </ul>
                    <p class="StartList">You can get details on bitmask violations with the following CAPL function:</p>
                    <ul>
                        <li><a href="../../CAPLFunctions/Test/Functions/CAPLfunctionTestWaitScopeGetMaskViolation.htm">TestWaitScopeGetMaskViolation</a>
                        </li>
                    </ul>
                    <p class="StartList">If you want to include screenshots in the test report, you can display the desired message segment with the following CAPL functions:</p>
                    <ul>
                        <li><a href="../../CAPLFunctions/Test/Functions/CAPLfunctionTestWaitForScopeFitData.htm">TestWaitForScopeFitData</a> (display of a message segment)</li>
                        <li><a href="../../CAPLFunctions/Test/Functions/CAPLfunctionTestWaitScopeShowMask.htm">TestWaitScopeShowMask</a> (display of a message segment with the bitmasks)</li>
                    </ul>
                    <p class="StartList">With the following CAPL function, you generate a screenshot and add it to the test report.</p>
                    <ul>
                        <li><a href="../../CAPLFunctions/Test/Functions/CAPLfunctionTestReportAddWindowCapture.htm">TestReportAddWindowCapture</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h2 class="SectionSub">Defining Bitmasks</h2>
                    <p>The bitmask is defined with up to 10 data points. The following figure shows a bitmask in a dominant bit.</p>
                    <p>
                        <img src="../../../Resources/Images/CANoeCANalyzer/ScopeBitmaskDefinitionFR.png" />
                    </p>
                    <p>The bitmask is plotted as a green hatched area. In the direction of negative voltages (in the example below), the bitmask is unlimited. However, below a certain voltage, it is no longer plotted.</p>
                    <p class="StartList">The bitmask was defined with 5 data points.</p>
                    <ul>
                        <li>Point 1: 26.5%, 0 mV</li>
                        <li>Point 2: 37.75%, 300 mV</li>
                        <li>Point 3: 50.0%, 400 mV</li>
                        <li>Point 4: 62.25%, 300 mV</li>
                        <li>Point 5: 73.5%, 0 mV</li>
                    </ul>
                    <p>The percentages represent the percentage of the theoretical bit length. The voltages are relative to the Scope ground.</p>
                </div>
                <div>
                    <h2 class="SectionSub">Representation of the Bitmasks in the Scope Diagram</h2>
                    <p>The following figure shows an excerpt from the created test report. The message segment contains bitmask violations as well as bits without bitmask violations.</p>
                    <p>
                        <img src="../../../Resources/Images/CANoeCANalyzer/ScopeBitmaskDiagramFR_950x358.png" style="width: 950;height: 358;" />
                    </p>
                    <p>The green hatched bitmasks are from bits without mask violations.</p>
                    <p>The red bitmasks identify bits with mask violations. The error text describes the violation of the bitmask plotted in full-tone red.</p>
                </div>
                <p class="LinkList"><a href="../../SampConf/FlexRay/CANoe/Scope/FlexRayBitMaskAnalysisCANoe.htm" class="LinkList">Scope Sample Configuration for FlexRay Bitmask Analysis</a>
                </p>
            </div>
        </div>
        <div class="Footer">
            <div class="FooterWhite">
                <table class="FooterWhite" style="border-collapse: collapse;margin-left: auto;margin-right: auto;">
                    <col style="width: 70px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col style="width: 16px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col />
                    <tbody>
                        <tr>
                            <td>
                                <div class="buttons popup-container clearfix topicToolbarProxy topicToolbarProxyFooter _Skins_HTML5TopicToolbar mc-component nocontent">
                                    <div class="button-group-container-left">
                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                            <div>
                                                <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                        <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                            <div>
                                                <div role="img" class="button-icon-wrapper">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <p class="vec_BuildInfo"><a href="../../Shared/HowToUseOnlineHelp.htm" title="Tips for using the help" alt="Tips for using the help"><img src="../../../Resources/vImages/vBackstage/vHelpInfo.png" /></a>
                                </p>
                            </td>
                            <td>
                                <p class="vec_BuildInfo" style="text-align: right;"><span class="mc-variable Vector.BuildTime variable">2023-09-26T19:49:32</span>
                                </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <table style="width: 100%;border-collapse: separate;border-spacing: 3px 0px;margin-left: auto;margin-right: auto;caption-side: top;">
                <col />
                <col />
                <col />
                <col data-mc-conditions="vConditions.HTML5Link" />
                <tbody>
                    <tr>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;">
                            <p class="vec_Footer">©&#160;Vector Informatik GmbH</p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;text-align: right;">
                            <p class="vec_FooterBold">
                                <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded,vConditions.TestDataEditorExcluded">CANoe</MadCap:conditionalText> Version <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded">17 SP3</MadCap:conditionalText></p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="../../Shared/ContactCopyrightLicense.htm" class="vec_Footer MCXref xref xrefvec_Footer">Contact/Copyright/License</a>
                            </p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="https://www.vector.com/int/en/company/get-info/privacy-policy/" target="_blank" class="vec_Footer">Data Privacy Notice</a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>