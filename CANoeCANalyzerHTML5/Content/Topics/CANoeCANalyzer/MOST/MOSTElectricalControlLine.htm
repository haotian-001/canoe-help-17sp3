<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="CANoeCANalyzer.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>Electrical Control Line - ECL (MOST)</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/vTableMasterPageHeader.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vStylesheet.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.CrossFrame.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMediaQueries.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAliasFile.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedbackHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSkinHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapNavigateTopics.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapLms.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapELearning.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMicroContentComponent.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearchHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicElements.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTriPane.js" type="text/javascript" defer="defer">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/SyntaxHighlighting.js">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/TabSwitch.js">
        </script>
        <script type="text/javascript" src="../../../Resources/vScripts/Vector.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../CANoeCANalyzer.htm#Topics/CANoeCANalyzer/MOST/MOSTElectricalControlLine.htm">Open topic with navigation</a>
        </p>
        <div class="Body">
            <div role="main" id="mc-main-content">
                <div>
                    <p class="StructurePath"><a href="MOST.htm" class="StructurePath">MOST</a> » Electrical Control Line</p>
                    <h1>Electrical Control Line - ECL </h1>
                    <p class="MenuPath">&#160;</p>
                    <p class="AutoSearchFilterConcepts"><a name="aanchor6796"></a>
                        <MadCap:concept term="SFCore" />
                    </p>
                    <p class="IndexConcept"><a name="kanchor5156"></a>
                    </p>
                    <p>If the MOST ring is interrupted, the individual MOST control units in the vehicle are no longer available via MOST. Thus, it is hardly possible to localize the interruption of the ring.</p>
                    <p>The Electrical Control Line (<span class="bold">ECL</span>), which is specially designated for MOST150 systems, serves to additionally connect all MOST control units in a star topology.</p>
                    <p>Via this connection, together with a simple serial protocol, the ECL makes it possible to query the status of the individual control units independently from MOST and thus to localize the interruption.</p>
                    <p>Besides this improved Ring Break Diagnosis (<span class="bold">RBD</span>), the ECL is also used (depending on the OEM) for the stimulation of other tests as well as for waking up the ECUs.</p>
                    <h2>ECL Support</h2>
                    <p class="StartList"><span class="Product">CANoe</span>, in conjunction with <span class="Product">VN2640</span>, supports the ECL by means of multiple features:</p>
                    <ul>
                        <li>The <span class="Product">VN2640</span> is equipped with an ECL port which is used for directly capturing the ECL signal or for stimulating the line.</li>
                    </ul>
                    <p class="Result">The ECL port of the <span class="Product">VN2640</span> is galvanically isolated. For this reason, please ensure that the supply voltage (Vbat) and GND are connected to this port. A voltage source might be required for lab operation; the power supply in the vehicle must be realized via the same voltage source as that of the control units since the signal thresholds of the ECL-input are derived from this voltage. (For further information on the ECL port wiring, please refer to the <span class="Product">VN2640</span> manual).</p>
                    <ul>
                        <li>Line status display in <a href="../Windows/Data/DataWindow.htm">Data Window</a> and <a href="../Windows/Graphics/GraphicsWindow.htm">Graphics Window</a></li>
                    </ul>
                    <p class="Result">The ECL signal is displayed in the dialog <span class="bold">Add MOST Signal</span> under the system signals. If the ECL signal is displayed in the <a href="../Windows/Trace/TraceWindow.htm">Trace Window</a>, you can move it to the Data or Graphics Window via drag and drop.</p>
                    <ul>
                        <li>Recording in <a href="../Analysis/AnalysisLogData.htm">logging</a> file and display in Trace Window</li>
                    </ul>
                    <p class="Result">By default, the ECL signal is recorded by means of the <a href="../FunctionBlocks/Logging/LoggingBlock.htm">Logging block</a>. In order to display it in the Trace Window, the option <span class="bold">Other register events</span> must be activated in the <a href="../Windows/Trace/TraceWindowFilterPredefinedMOSTEvents.htm">MOST Filter</a> (MOST events).</p>
                    <ul>
                        <li>ECL activation and querying via CAPL</li>
                        <li class="Indent"><a href="../../CAPLFunctions/MOST/CAPLfunctionsMOSTOverview.htm">Hardware API</a>
                            <br />The individual ECL control commands are subject to fluctuating latencies which are typical for the activation of USB hardware. The response of the signal changes is also affected by these latencies. However, the precise time stamps which are queryable via <a href="../../CAPLFunctions/MOST/Functions/CAPLfunctionMOSTEvent.htm">mostEventTime()</a> allow for the precise determination of the time when the edges occur.<br />If the periods between edges need to be precisely constant for the stimulation as well, the commands <a href="../../CAPLFunctions/MOST/Functions/CAPLfunctionMOSTConfigureEclSequence.htm">mostConfigureEclSequence</a> and <a href="../../CAPLFunctions/MOST/Functions/CAPLfunctionMOSTGenerateEclSequence.htm">mostGenerateEclSequence</a> can be used. These commands are used to control the sequences which are generated in the firmware of <span class="Product">VN2640</span> and whose timing is neither influenced by Windows nor by the USB latencies.</li>
                        <li class="Indent">Activation of pull-up resistor<br />OEM variants as well as differentiation between the so called <span class="bold">initiator</span> and the <span class="bold">participants</span> demand for a suitable configuration of the pull-up resistor. This configuration is realized by means of the <a href="../../CAPLFunctions/MOST/Functions/CAPLfunctionMOSTSetGetEclTermination.htm">mostSetEclTermination</a> command.</li>
                        <li class="Indent">Low Pass Filtering of ECL signal<br />Efficient evaluation of the logical ECL signal is achieved by filtering line disturbances using a Low Pass Filter. The impulse filter can be configured via <a href="../../CAPLFunctions/MOST/Functions/CAPLfunctionMOSTSetEclGlitchFilter.htm">mostSetEclGlitchFilter</a> in order to be able to measure the signal quality along the ECL. If, for this purpose, the default value of 1 ms (according to ECL specification) is reduced to up to 50 µs, then even short glitches can be captured.</li>
                        <li class="Indent" data-mc-conditions="vConditions.CANoeOnly">Test modules and test sequences<br />This <span class="Product">CANoe</span> version does not provide any special features with respect to waiting for ECL signal changes in test modules. This, however, can still be achieved by using the so called TextEvents (see example below).</li>
                    </ul>
                    <div class="IndentIndent" data-mc-conditions="vConditions.CANoeOnly">
                        <p class="SourceCode">OnMostEcl(long eclState)<br />{<br />&#160;&#160;if(eclState == 1)<br />&#160;&#160;{<br />&#160;&#160;&#160;&#160;TestSupplyTextEvent("EclHigh");<br />&#160;&#160;}<br />&#160;&#160;else<br />&#160;&#160;{<br />&#160;&#160;&#160;&#160;TestSupplyTextEvent("EclLow");<br />&#160;&#160;}<br />}<br /><br />TC_WaitForECL()<br />{<br />...<br />&#160;&#160;If (TestWaitForTextEvent("EclHigh", 30000) == 1)<br />&#160;&#160;TestStepPass("1", " ECL High!",);<br />...<br />}</p>
                    </div>
                    <ul>
                        <li class="Indent"><a href="../../SampConf/MOST/MOSTECL.htm">Sample configuration</a>
                            <br />The sample configuration delivered with <span class="Product">CANoe</span> shows the evaluation and the activation of the ECL in CAPL. The code is intentionally structured to be re-used in other configurations. It provides a series of functions for simulating initiators or participants as well as for the implementation of an observer for determining the logical meaning from the physical ECL signal.</li>
                    </ul>
                    <p class="LinkList">&#160;</p>
                </div>
            </div>
        </div>
        <div class="Footer">
            <div class="FooterWhite">
                <table class="FooterWhite" style="border-collapse: collapse;margin-left: auto;margin-right: auto;">
                    <col style="width: 70px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col style="width: 16px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col />
                    <tbody>
                        <tr>
                            <td>
                                <div class="buttons popup-container clearfix topicToolbarProxy topicToolbarProxyFooter _Skins_HTML5TopicToolbar mc-component nocontent">
                                    <div class="button-group-container-left">
                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                            <div>
                                                <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                        <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                            <div>
                                                <div role="img" class="button-icon-wrapper">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <p class="vec_BuildInfo"><a href="../../Shared/HowToUseOnlineHelp.htm" title="Tips for using the help" alt="Tips for using the help"><img src="../../../Resources/vImages/vBackstage/vHelpInfo.png" /></a>
                                </p>
                            </td>
                            <td>
                                <p class="vec_BuildInfo" style="text-align: right;"><span class="mc-variable Vector.BuildTime variable">2023-09-26T19:49:32</span>
                                </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <table style="width: 100%;border-collapse: separate;border-spacing: 3px 0px;margin-left: auto;margin-right: auto;caption-side: top;">
                <col />
                <col />
                <col />
                <col data-mc-conditions="vConditions.HTML5Link" />
                <tbody>
                    <tr>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;">
                            <p class="vec_Footer">©&#160;Vector Informatik GmbH</p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;text-align: right;">
                            <p class="vec_FooterBold">
                                <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded,vConditions.TestDataEditorExcluded">CANoe</MadCap:conditionalText> Version <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded">17 SP3</MadCap:conditionalText></p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="../../Shared/ContactCopyrightLicense.htm" class="vec_Footer MCXref xref xrefvec_Footer">Contact/Copyright/License</a>
                            </p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="https://www.vector.com/int/en/company/get-info/privacy-policy/" target="_blank" class="vec_Footer">Data Privacy Notice</a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>