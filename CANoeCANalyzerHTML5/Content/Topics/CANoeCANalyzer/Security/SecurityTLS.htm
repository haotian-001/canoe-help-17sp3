<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="" data-mc-search-type="Stem" data-mc-help-system-file-name="CANoeCANalyzer.xml" data-mc-path-to-help-system="../../../../" data-mc-conditions="vConditions.CANalyzerExclude" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>Transport Layer Security (TLS)</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/vTableMasterPageHeader.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vStylesheet.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../Resources/Stylesheets/vTableSymbol.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.CrossFrame.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMediaQueries.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAliasFile.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedbackHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSkinHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapNavigateTopics.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapLms.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapELearning.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMicroContentComponent.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearchHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicElements.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTriPane.js" type="text/javascript" defer="defer">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/SyntaxHighlighting.js">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/TabSwitch.js">
        </script>
        <script type="text/javascript" src="../../../Resources/vScripts/Vector.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../CANoeCANalyzer.htm#Topics/CANoeCANalyzer/Security/SecurityTLS.htm">Open topic with navigation</a>
        </p>
        <div class="Body">
            <div role="main" id="mc-main-content">
                <div>
                    <p class="StructurePath"><a href="Security.htm" class="StructurePath">Security</a> Â» <span class="mc-variable System.Title variable">Transport Layer Security (TLS)</span></p>
                    <h1><span class="mc-variable System.Title variable">Transport Layer Security (TLS)</span>
                    </h1>
                    <p class="MenuPath">&#160;</p>
                    <p class="AutoSearchFilterConcepts"><a name="aanchor7998"></a>
                        <MadCap:concept term="SFCore" />
                    </p>
                    <p class="IndexConcept"><a name="kanchor6620"></a>
                    </p>
                </div>
                <p>The communication between two endpoints can be secured with TLS. It allows to setup up a secured communication between client and server. <span class="Product">CANoe</span> can take part in a TLS communication and simulate the TLS server and/or the TLS client. <span class="Product">CANoe</span> can also replay TLS recordings. The TLS Observer can try to decrypt the TLS communication. TLS is only supported together with <span class="Product">CANoe </span>option <span class="Product">.Ethernet</span>. There is a sample configuration available which demonstrates the use of TLS: <span class="bold">TCP Chat (CAPL) with TLS encryption</span>.</p>
                <h2><a name="TLSpki" id="TLSpki"></a>Simulation of a TLS Endpoint in CANoe</h2>
                <p>Every simulation node of an Ethernet network can be used to simulate a TLS endpoint (Client or Server). The UDP or TCP Socket must be opened in CAPL or C#. Refer to <a href="../../../../Subsystems/VectorCANoeNETAPI/Content/html/bb138cdb-edb9-830d-3d0c-3b8afa90b786.htm" data-mc-conditions="vConditions.HTML5Link">.NET</a> and <a href="../../CAPLFunctions/TLSAPI/CAPLfunctionsTLSOverview.htm">CAPL.</a></p>
                <p>Refer to the following CAPL functions:</p>
                <ul>
                    <li><a href="../../CAPLFunctions/TLSAPI/Functions/CAPLFunctiontlsAuthenticateAsClientWithConfiguration.htm" class="SourceCode MCXref xref xrefSourceCode">tlsAuthenticateAsClientWithConfiguration</a>
                    </li>
                    <li><a href="../../CAPLFunctions/TLSAPI/Functions/CAPLFunctiontlsAuthenticateAsServerWithConfiguration.htm" class="SourceCode MCXref xref xrefSourceCode">tlsAuthenticateAsServerWithConfiguration</a>
                    </li>
                    <li data-mc-conditions="vConditions.vTESTstudioExcluded"><a href="../../CAPLFunctions/IP/AUTOSARethIL/Functions/CAPLFunctionAREthTlsAuthenticateAsClientWithConfiguration.htm" class="SourceCode MCXref xref xrefSourceCode">AREthTlsAuthenticateAsClientWithConfiguration</a>
                    </li>
                    <li data-mc-conditions="vConditions.vTESTstudioExcluded"><a href="../../CAPLFunctions/IP/AUTOSARethIL/Functions/CAPLFunctionAREthTlsAuthenticateAsServerWithConfiguration.htm" class="SourceCode MCXref xref xrefSourceCode">AREthTlsAuthenticateAsServerWithConfiguration</a>
                    </li>
                    <li data-mc-conditions="vConditions.vTESTstudioExcluded"><a href="../../CAPLFunctions/IP/SOMEIPIL/Functions/CAPLFunctionSomeIpTlsAuthenticateAsClientWithConfiguration.htm" class="SourceCode MCXref xref xrefSourceCode">SomeIpTlsAuthenticateAsClientWithConfiguration</a>
                    </li>
                    <li data-mc-conditions="vConditions.vTESTstudioExcluded"><a href="../../CAPLFunctions/IP/SOMEIPIL/Functions/CAPLFunctionSomeIpTlsAuthenticateAsServerWithConfiguration.htm" class="SourceCode MCXref xref xrefSourceCode">SomeIpTlsAuthenticateAsServerWithConfiguration</a>
                    </li>
                </ul>
                <p>A TLS communication can only be established if a Security Profile is assigned to the TCP/IP Stack of the Simulation Node. The TCP/IP Stack Settings are listed in the dialog <a href="../Ethernet/TCPIPNetworkSettings/PageStackSelection.htm">TCP/IP Stack</a>.</p>
                <p>The assignment of the Security Profile to the TCP/IP Stack is done in the dialog <a href="../Ribbon/StimulationSimulation/SecurityConfiguration.htm" class="GUI">Security Configuration</a> on the tab <span class="GUI">TLS and IPSec</span>.</p>
                <p>Every Security Profile of type <span class="bold">PKI</span> (Public Key Infrastructure) can be assigned to a stack and be used for TLS. The Security Profiles are configured in the Vector Security Manager.</p>
                <h2><a name="TLShandshake" id="TLShandshake"></a>Security Profile Configuration</h2>
                <p>The PKI Security Profile to be used for TLS must define certain TLS parameters. All these settings are configured in the Vector Security Manager.</p>
                <p>For a Client or Server endpoint participating in a Pre-Shared Key based TLS communication, the Pre-Shared Keys must be added to the Security Profile. The Cipher Suites Configuration shall contain Pre-Shared Key supporting Cipher Suites only. A preset is available.</p>
                <p>For a Client endpoint participating in a certificate-based TLS communication, the serverâs root certificates must be added to the Security Profile. The Cipher Suite Configuration shall contain certificate supporting Cipher Suites only. A preset is available.</p>
                <p>For a Server endpoint participating in a certificate-based TLS communication, the server certificate including the certificate chain must be added. The private key of the server certificate must be available. The Cipher Suite Configuration shall contain certificate supporting Cipher Suites only. A preset is available. The CA Chain Layout can be defined. By default the root certificate is not transmitted in the TLS handshake.</p>
                <h2><a name="TLSobserver" id="TLSobserver"></a>TLS Observer</h2>
                <p><span class="Product">CANoe </span>offers the possibility to replay recorded TLS Communication. The TLS Observer can try to decrypt the communication and outputs the contained messages in the trace window, if the contained protocol is supported by the Observer.</p>
                <p>The assignment of the TLS Observer Security Profile is done in the dialog Security Configuration on the tab <span class="GUI">TLS Observer</span>. If no Security Profile is assigned, observing TLS communications is not possible.</p>
                <h2>Security Profile Configuration</h2>
                <p>The TLS Observer Security Profile must be configured with</p>
                <ul>
                    <li><span class="bold">Pre shared keys</span>: This allows to decrypt a TLS communication based on one of the pre shared keys.</li>
                    <li><span class="bold">Master Secrets</span>: This allows to decrypt a TLS communication, for which the master secret is known. <a href="SecurityTLSMasterSecret.htm">Set the Master Secret manually</a>.</li>
                    <li><span class="bold">Null Cipher</span>: If a null cipher is used, the TLS Observer will work out of the box.</li>
                </ul>
                <h2>Observer Port Configuration</h2>
                <p>Finally you must set the observer port in the <a href="../Ribbon/File/Options/BussystemsProtocols/BussystemsProtocolsBussystems.htm#ProtocolID">Options</a> dialog.</p>
                <div>
                    <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                        <col class="TableStyle-vTableSymbol-Column-Column1" />
                        <col class="TableStyle-vTableSymbol-Column-Column2" />
                        <tbody>
                            <tr>
                                <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                    <p class="Table">
                                        <img src="../../../Resources/vImages/vExample.png" style="width: 48px;height: 45px;" title="Example" alt="Example" />
                                    </p>
                                </td>
                                <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                    <p class="TableSymbolHead">Example</p>
                                    <p> If a TLS Communication is done via UDP (DTLS) and the content consists of http messages, you must set the Observer Port (i.e. 4433) for the HTTP protocol in the section <span class="bold">DTLS â Port</span>.</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="LinkList">&#160;</p>
            </div>
        </div>
        <div class="Footer">
            <div class="FooterWhite">
                <table class="FooterWhite" style="border-collapse: collapse;margin-left: auto;margin-right: auto;">
                    <col style="width: 70px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col style="width: 16px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col />
                    <tbody>
                        <tr>
                            <td>
                                <div class="buttons popup-container clearfix topicToolbarProxy topicToolbarProxyFooter _Skins_HTML5TopicToolbar mc-component nocontent">
                                    <div class="button-group-container-left">
                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                            <div>
                                                <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                        <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                            <div>
                                                <div role="img" class="button-icon-wrapper">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <p class="vec_BuildInfo"><a href="../../Shared/HowToUseOnlineHelp.htm" title="Tips for using the help" alt="Tips for using the help"><img src="../../../Resources/vImages/vBackstage/vHelpInfo.png" /></a>
                                </p>
                            </td>
                            <td>
                                <p class="vec_BuildInfo" style="text-align: right;"><span class="mc-variable Vector.BuildTime variable">2023-09-26T19:49:32</span>
                                </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <table style="width: 100%;border-collapse: separate;border-spacing: 3px 0px;margin-left: auto;margin-right: auto;caption-side: top;">
                <col />
                <col />
                <col />
                <col data-mc-conditions="vConditions.HTML5Link" />
                <tbody>
                    <tr>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;">
                            <p class="vec_Footer">Â©&#160;Vector Informatik GmbH</p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;text-align: right;">
                            <p class="vec_FooterBold">
                                <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded,vConditions.TestDataEditorExcluded">CANoe</MadCap:conditionalText> Version <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded">17 SP3</MadCap:conditionalText></p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="../../Shared/ContactCopyrightLicense.htm" class="vec_Footer MCXref xref xrefvec_Footer">Contact/Copyright/License</a>
                            </p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="https://www.vector.com/int/en/company/get-info/privacy-policy/" target="_blank" class="vec_Footer">Data Privacy Notice</a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>