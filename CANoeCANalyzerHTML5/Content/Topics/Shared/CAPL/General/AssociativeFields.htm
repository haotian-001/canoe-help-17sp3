<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="CANoeCANalyzer.xml" data-mc-path-to-help-system="../../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../../Skins/Favicons/favicon-16x16.png" /><title>Associative Fields</title>
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Resources/Stylesheets/vTableMasterPageHeader.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../../Resources/Stylesheets/vStylesheet.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../../Resources/Stylesheets/vTableSymbol.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapGlobal.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapDom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapUtilities.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapXhr.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapTextEffects.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapSlideshow.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapMessageBus.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapMessageBus.CrossFrame.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapDefault.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapMediaQueries.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAccessibility.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapHelpSystem.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAliasFile.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapTopicFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapFeedbackHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapSkinHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapToc.MiniToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapToc.SideMenu.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapIndex.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapGlossary.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapParser.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapSearch.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapNavigateTopics.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapLms.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapELearning.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapTopic.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapMicroContentComponent.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapSearchHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapTopicElements.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapTriPane.js" type="text/javascript" defer="defer">
        </script>
        <script type="text/jscript" src="../../../../Resources/vScripts/SyntaxHighlighting.js">
        </script>
        <script type="text/jscript" src="../../../../Resources/vScripts/TabSwitch.js">
        </script>
        <script type="text/javascript" src="../../../../Resources/vScripts/Vector.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../../CANoeCANalyzer.htm#Topics/Shared/CAPL/General/AssociativeFields.htm">Open topic with navigation</a>
        </p>
        <div class="Body">
            <div role="main" id="mc-main-content">
                <div>
                    <p class="StructurePath"><a href="../CAPLIntroduction.htm" class="StructurePath">CAPL Introduction</a> Â» <span class="mc-variable System.Title variable">Associative Fields</span></p>
                    <h1><span class="mc-variable System.Title variable">Associative Fields</span>
                    </h1>
                    <p class="MenuPath">&#160;</p>
                    <p class="AutoSearchFilterConcepts"><a name="aanchor9154"></a>
                        <MadCap:concept term="SFCore" />
                    </p>
                    <p><a name="kanchor7417"></a>
                    </p>
                </div>
                <p>With associative fields (so-called maps) you can perform a 1:1 assignment of values to other values without using excessive memory. The elements of an associative field are key value pairs, whereby there is fast access to a value via a key.</p>
                <p>An associative field is declared in a similar way to a normal field but the data type of the key is written in square brackets:</p>
                <p class="SourceCode">int m[float];&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="CodeComment">// maps floats to ints</span><br />float x[int64];&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span class="CodeComment">// maps int64s to floats</span><br />char[30] s[ char[] ]&#160;&#160;<span class="CodeComment">// maps strings (of unspecified length) to strings of length &lt; 30</span></p>
                <p>Data types for the keys can be <span class="bold">long</span>, <span class="bold">int64</span>, <span class="bold">float</span>, <span class="bold">double</span>, <span class="bold">enumeration types</span> and <span class="bold">char[]</span>. As data type for values are simple data types, enumeration types fields and structure types allowed. You cannot use associative fields themselves as the value type of an associative field.</p>
                <p>Associative fields can be used as function parameters and are then automatically transferred as a reference.</p>
                <p>The size of an associative field can dynamically increase and decrease, depending on the number of its elements. Please bear in mind that, as a result, particularly the filling out of an associative field with new elements is not always fast.</p>
                <p>You can determine the current number of elements in an associative field using the member function <a href="../../../CAPLFunctions/AssociativeFields/Functions/CAPLfunctionSize.htm" class="SourceCode">size</a>. Note that the <a href="../../../CAPLFunctions/Other/Functions/CAPLfunctionElCount.htm" class="SourceCode">elcount</a> function always returns 1 when called with an associative field, because it determines the size of a non-associative field (array).</p>
                <div data-mc-conditions="vConditions.vTESTstudioExcluded">
                    <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                        <col class="TableStyle-vTableSymbol-Column-Column1" />
                        <col class="TableStyle-vTableSymbol-Column-Column2" />
                        <tbody>
                            <tr>
                                <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                    <p class="Table">
                                        <img src="../../../../Resources/vImages/vInfo.png" style="width: 48px;height: 45px;" title="Note" alt="Note" />
                                    </p>
                                </td>
                                <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                    <p class="TableSymbolHead">Note</p>
                                    <p class="Table">The use of associative fields is not compatible with older versions of <span class="Product">CANoe</span>. For this reason they may only be used in CAPL programs with <span class="Product">CANoe</span> from version 7.0 Service Pack 3.</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div>
                    <h2 class="SectionSub">Working with an Initial Size</h2>
                    <p>You can also specify an initial size in the declaration of the field:</p>
                    <p class="SourceCode">int m[float, 30];&#160;&#160;// initial space reserved for 30 elements</p>
                    <p>However, in the current implementation this does not usually lead to quantifiable speed gains.</p>
                    <div>
                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                            <col class="TableStyle-vTableSymbol-Column-Column1" />
                            <col class="TableStyle-vTableSymbol-Column-Column2" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                        <p class="Table">
                                            <img src="../../../../Resources/vImages/vInfo.png" style="width: 48px;height: 45px;" title="Note" alt="Note" />
                                        </p>
                                    </td>
                                    <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                        <p class="TableSymbolHead">Note</p>
                                        <p class="Table">Note also that memory amounting to the initial size is always occupied for the field at the start of the measurement (in the above example: 30 * 3 bytes). Many fields whose initial size is high thus require a lot of memory even in the static state.</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div>
                    <h2 class="SectionSub">Element Access and Iteration</h2>
                    <p>Elements of an associative field are accessed with square brackets, whereby the key is within the brackets:</p>
                    <p class="SourceCode">value = m1[aKey];<br />m2[aKey] = value + 1;</p>
                    <p>If the value of an element whose key is not yet in the field has to be changed, the key value pair is added to the field. That way the field can also be filled in a simple manner.</p>
                    <p>If an element whose key is not in the field has to be read out, a value initialized with 0 is inserted in the field and returned. </p>
                    <p>You can iterate all the elements of an associative field by using a variable of the key type with a special 'for' loop.</p>
                    <div>
                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                            <col class="TableStyle-vTableSymbol-Column-Column1" />
                            <col class="TableStyle-vTableSymbol-Column-Column2" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                        <p class="Table">
                                            <img src="../../../../Resources/vImages/vExample.png" style="width: 48px;height: 45px;" title="Example" alt="Example" />
                                        </p>
                                    </td>
                                    <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                        <p class="TableSymbolHead">Example</p>
                                        <p class="TableSourceCode">void printMap(double m[long])<br />{<br />&#160;&#160;for (long aKey: m)<br />&#160;&#160;{<br />&#160;&#160;&#160;&#160;write("%d is mapped to %g.", aKey, m[aKey]);<br />&#160;&#160;}<br />}</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p>The loop variable is only valid with the loop and can not be changed there. The iteration passes through the keys in the field in ascending order. Changing the field during iteration is permitted; newly added keys are only returned in the loop if they are greater than the current value of the loop variables.</p>
                </div>
                <div>
                    <h2 class="SectionSub">Functions</h2>
                    <p>Each associative field provides special functions that can be called with the syntax <span class="SourceCode">Variable.FunctionName(Parameter)</span>:</p>
                    <ul>
                        <li><a href="../../../CAPLFunctions/AssociativeFields/Functions/CAPLfunctionClear.htm" class="SourceCode">clear</a>
                        </li>
                        <li><a href="../../../CAPLFunctions/AssociativeFields/Functions/CAPLfunctionContainsKey.htm" class="SourceCode">containsKey</a>
                        </li>
                        <li><a href="../../../CAPLFunctions/AssociativeFields/Functions/CAPLfunctionRemove.htm" class="SourceCode">remove</a>
                        </li>
                        <li><a href="../../../CAPLFunctions/AssociativeFields/Functions/CAPLfunctionSize.htm" class="SourceCode">size</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h2 class="SectionSub">Information about char[] as Key Type</h2>
                    <p>If the key type <span class="bold">char[]</span> is specified, all the character fields (of any size) can be used as key values. In the iteration the loop variable must then also be declared as <span class="bold">char[]</span>. Key comparisons, e.g. in order to determine iteration sequence, are then performed as character string comparisons, whereby no country-specific algorithms are used.</p>
                    <p><span class="bold">char[]</span> is the only field type that can be used as a key type. Please bear in mind that you can not declare variables or parameters of the <span class="bold">char[]</span> type, with the exception of loop variables in the iteration.</p>
                </div>
                <div>
                    <h2 class="SectionSub">Algorithmic Complexity</h2>
                    <p>To enable you to estimate the duration of operations more easily when working with associative fields their algorithmic complexity will now be indicated in O-notation. If N is the number of elements in an associative field, the following applies:</p>
                    <ul>
                        <li>Searching for an element ([]-operator or function <a href="../../../CAPLFunctions/AssociativeFields/Functions/CAPLfunctionContainsKey.htm" class="SourceCode">containsKey</a>) is in O(log(N)).</li>
                        <li>Inserting elements is average in O(log(N)). In this case, average means that individual insertion operations may take longer if the internal data structure has to be resorted.</li>
                        <li>Removing elements is in O(log(N)).</li>
                        <li>Querying the element number (function <a href="../../../CAPLFunctions/AssociativeFields/Functions/CAPLfunctionSize.htm" class="SourceCode">size</a>) is in O(1), i.e. constant time.</li>
                        <li>Removing all elements (function <a href="../../../CAPLFunctions/AssociativeFields/Functions/CAPLfunctionClear.htm" class="SourceCode">clear</a>) is in O(log(N) + N).</li>
                        <li>The iteration via all the elements is in O(N * log(N)) because in each iteration step an element is sought at least once.</li>
                    </ul>
                </div>
                <div>
                    <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                        <col class="TableStyle-vTableSymbol-Column-Column1" />
                        <col class="TableStyle-vTableSymbol-Column-Column2" />
                        <tbody>
                            <tr>
                                <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                    <p class="Table">
                                        <img src="../../../../Resources/vImages/vExample.png" style="width: 48px;height: 45px;" title="Example" alt="Example" />
                                    </p>
                                </td>
                                <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                    <p class="TableSymbolHead">Association between floating point numbers:</p>
                                    <p class="SourceCode">float m[float];<br />m[4.1] = 5.5; //key is 4.1 (float) &#160;and value is 5.5 (float)<br />m[5.3] = 6.6;<br />write ("4.1 is mapped to %2.2lf", m[4.1]);<br />write ("5.3 is mapped to %2.2lf", m[5.3]);<br /><br />for (float mykey : m)<br />{<br />&#160;&#160;write("%2.2lf is mapped to %2.2lf.", mykey, m[mykey]);<br />}</p>
                                    <p class="TableSymbolHead">Association between strings:</p>
                                    <p class="TableSourceCode">char[30] namen[char []];<br />strncpy(namen["Max"], "Mustermann", 30); <br />strncpy(namen["Vector"], "Informatik", 30);<br /><br />for (char[] mykey : namen)<br />{<br />&#160;&#160;write("%s is mapped to %s", mykey, namen[mykey]);<br />}</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="LinkList"><a href="DataTypesForVariables.htm" class="LinkList">Data Types for Variables</a>&#160;&#160;â¢&#160;&#160;<a href="DataTypesForFunctionParameters.htm" class="LinkList">Data Types for Function Parameters</a></p>
            </div>
        </div>
        <div class="Footer">
            <div class="FooterWhite">
                <table class="FooterWhite" style="border-collapse: collapse;margin-left: auto;margin-right: auto;">
                    <col style="width: 70px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col style="width: 16px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col />
                    <tbody>
                        <tr>
                            <td>
                                <div class="buttons popup-container clearfix topicToolbarProxy topicToolbarProxyFooter _Skins_HTML5TopicToolbar mc-component nocontent">
                                    <div class="button-group-container-left">
                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                            <div>
                                                <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                        <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                            <div>
                                                <div role="img" class="button-icon-wrapper">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <p class="vec_BuildInfo"><a href="../../HowToUseOnlineHelp.htm" title="Tips for using the help" alt="Tips for using the help"><img src="../../../../Resources/vImages/vBackstage/vHelpInfo.png" /></a>
                                </p>
                            </td>
                            <td>
                                <p class="vec_BuildInfo" style="text-align: right;"><span class="mc-variable Vector.BuildTime variable">2023-09-26T19:49:32</span>
                                </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <table style="width: 100%;border-collapse: separate;border-spacing: 3px 0px;margin-left: auto;margin-right: auto;caption-side: top;">
                <col />
                <col />
                <col />
                <col data-mc-conditions="vConditions.HTML5Link" />
                <tbody>
                    <tr>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;">
                            <p class="vec_Footer">Â©&#160;Vector Informatik GmbH</p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;text-align: right;">
                            <p class="vec_FooterBold">
                                <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded,vConditions.TestDataEditorExcluded">CANoe</MadCap:conditionalText> Version <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded">17 SP3</MadCap:conditionalText></p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="../../ContactCopyrightLicense.htm" class="vec_Footer MCXref xref xrefvec_Footer">Contact/Copyright/License</a>
                            </p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="https://www.vector.com/int/en/company/get-info/privacy-policy/" target="_blank" class="vec_Footer">Data Privacy Notice</a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>