<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="topic" data-mc-search-type="Stem" data-mc-help-system-file-name="CANoeCANalyzer.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>Virtual Terminal Interaction Layer (ISO11783)</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/vTableMasterPageHeader.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vStylesheet.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../Resources/Stylesheets/vTablePageTOC.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vTable.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vTableSymbol.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.CrossFrame.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMediaQueries.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAliasFile.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedbackHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSkinHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapNavigateTopics.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapLms.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapELearning.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMicroContentComponent.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearchHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicElements.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTriPane.js" type="text/javascript" defer="defer">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/SyntaxHighlighting.js">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/TabSwitch.js">
        </script>
        <script type="text/javascript" src="../../../Resources/vScripts/Vector.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../CANoeCANalyzer.htm#Topics/Shared/ISO11783/ISO11783ILVT.htm">Open topic with navigation</a>
        </p>
        <div class="Body">
            <div role="main" id="mc-main-content">
                <p class="StructurePath"><a href="../../CANoeCANalyzer/ISO11783/startpageISO11783.htm" class="StructurePath" data-mc-exclude-action="unbind" data-mc-conditions="vConditions.vTESTstudioExcluded,vConditions.CANoeOnly">ISO11783</a>
                    <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded"> » <a href="../../CANoeCANalyzer/ISO11783/VirtualTerminal/VTOverview.htm" class="StructurePath">Virtual Terminal</a></MadCap:conditionalText> » Virtual Terminal Interaction Layer</p>
                <h1>Virtual Terminal Interaction Layer</h1>
                <p class="MenuPath">&#160;</p>
                <p class="AutoSearchFilterConcepts"><a name="aanchor11472"></a>
                    <MadCap:concept term="SFCore" />
                </p>
                <p class="IndexConcept"><a name="kanchor9179"></a><a name="aanchor11473"></a>
                    <MadCap:concept term="IL_OP;IL_PD" />
                </p>
                <div>
                    <p>The <span class="Product">CANoe</span> Option&#160;ISO11783 contains an Interaction Layer DLL for the <a href="../../CANoeCANalyzer/ISO11783/VirtualTerminal/VTOverview.htm">Virtual Terminal (VT)</a>. This <span class="bold">Virtual Terminal Interaction Layer (VT IL)</span> represents an alternative control option for the <a href="../../CANoeCANalyzer/ISO11783/VirtualTerminalWindow/VTWindow.htm">Virtual Terminal Window</a>. Operator control of the VT IL is by means of CAPL commands, some of which are also available in a test unit.</p>
                    <p>With the help of the VT IL you can expand a simulation node in an ISOBUS network into a Virtual Terminal without a visible user interface. You assign the <span class="bold"><a href="../../CANoeCANalyzer/ISO11783/procedures/UseNodelayerDLL.htm">ISO11783_VT_IL.dll</a></span> file to a node in the Simulation Setup for this. The VT IL carries out communication with implements and can be controlled with CAPL commands.</p>
                </div>
                <div>
                    <h2>Functions of the Virtual Terminal Interaction Layer (VT IL)</h2>
                    <ul>
                        <li>Varied configuration of the Virtual Terminal:<br />VT version, size of masks, number of buttons, etc.</li>
                        <li>Handling of the Virtual Terminal using CAPL commands:<br />For example, Pressing of a soft key or entering a value.</li>
                        <li>Definition of current object values from a transferred object pool.<br />(can also be used in passive mode in parallel with a real Virtual Terminal.)</li>
                        <li>Connection of object values from an object pool to system variables.</li>
                        <li>Manipulation of response messages of the Virtual Terminal (fault injection).</li>
                        <li>Manipulation of the VT Status message (fault injection).</li>
                    </ul>
                </div>
                <p><a name="Shortcuts" id="Shortcuts"></a>
                </p>
                <p class="TableCOM"><a name="Shortcuts" id="Shortcuts"></a><span class="red">ON THIS&#160;PAGE:</span>
                </p>
                <table style="margin-left: 0;margin-right: auto;caption-side: top;mc-table-style: url('../../../Resources/Stylesheets/vTablePageTOC.css');" class="TableStyle-vTablePageTOC" cellspacing="2">
                    <col class="TableStyle-vTablePageTOC-Column-Column1" style="width: 50%;" />
                    <col class="TableStyle-vTablePageTOC-Column-Column1" style="width: 50%;" />
                    <tbody>
                        <tr class="TableStyle-vTablePageTOC-Body-Body1">
                            <td class="TableStyle-vTablePageTOC-BodyB-Column1-Body1">
                                <p class="PageTOC"><a href="#VTILSetup" class="PageTOC">Setting Up VT IL</a>
                                </p>
                                <p class="PageTOC"><a href="#VTILFunctionActivation" class="PageTOC">Activating VT IL Functions</a>
                                </p>
                                <p class="PageTOC"><a href="#ObjectSysVarConnection" class="PageTOC">Connecting Objects to System Variables</a>
                                </p>
                                <p class="PageTOC"><a href="#VTILStates" class="PageTOC">VT IL States</a>
                                </p>
                                <p class="PageTOC"><a href="#ErrorInduction" class="PageTOC">Fault Injection</a>
                                </p>
                            </td>
                            <td class="TableStyle-vTablePageTOC-BodyA-Column1-Body1">
                                <p class="PageTOC"><a href="#ManipulationOfTPs" class="PageTOC">Manipulation der Transportprotokolle</a>
                                </p>
                                <p class="PageTOC"><a href="#VTUsage" class="PageTOC">Handling the VT</a>
                                </p>
                                <p class="PageTOC"><a href="#ObjectPools" class="PageTOC">Storing Object Pools in the VT Memory</a>
                                </p>
                                <p class="PageTOC"><a href="#ISO11783Diagnostics" class="PageTOC">ISO11783 Diagnostics</a>
                                </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div>
                    <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                        <col class="TableStyle-vTableSymbol-Column-Column1" />
                        <col class="TableStyle-vTableSymbol-Column-Column2" />
                        <tbody>
                            <tr>
                                <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                    <p class="Table">
                                        <img src="../../../Resources/vImages/vCrossRef.png" style="width: 48px;height: 45px;" alt="Cross Reference" title="Cross Reference" />
                                    </p>
                                </td>
                                <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                    <p class="TableSymbolHead">Cross&#160;Reference</p>
                                    <p class="Table"><a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/CAPLfunctionsISOILVTOverview.htm">VT IL CAPL Functions</a>
                                    </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div>
                    <h2 class="SectionSub"><a name="VTILSetup" id="VTILSetup"></a>Setting Up VT IL <a href="#Shortcuts" class="TopOfPage">[▲ back]</a></h2>
                    <p>The Virtual Terminal Interaction Layer is configured using the database. Perform the steps below so that a node can use the VT IL:</p>
                    <div>
                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTableSymbol.css');" class="TableStyle-vTableSymbol" cellspacing="0">
                            <col class="TableStyle-vTableSymbol-Column-Column1" />
                            <col class="TableStyle-vTableSymbol-Column-Column2" />
                            <tbody>
                                <tr>
                                    <td class="TableStyle-vTableSymbol-BodyB-Column1-">
                                        <p class="Table">
                                            <img src="../../../Resources/vImages/vStep.png" style="width: 48px;height: 45px;" title="Procedure" alt="Procedure" />
                                        </p>
                                    </td>
                                    <td class="TableStyle-vTableSymbol-BodyA-Column2-">
                                        <div class="Procedure">
                                            <ol>
                                                <li value="1">Define a node in the database (see <a href="../../CANoeCANalyzer/J1939/procedures/defineJ1939nodes.htm">Defining a J1939 Node</a>).</li>
                                                <li value="2">Set all <span class="bold">NmJ1939xxx</span> attributes for this node according to the desired device name.</li>
                                                <li value="3">In node attribute <span class="bold">NodeLayerModules</span>, enter the value <span class="bold">ISO11783_VT_IL.dll</span>.</li>
                                                <li value="4">Add the <span class="bold">AC (Address Claimed)</span>, <span class="bold">VT12</span> and <span class="bold">ACKM</span> messages to the Tx list.</li>
                                                <li value="5">If required, add the diagnostic messages <span class="bold">DM1, DM2, ECUID, DP, LC, SOFT</span> or <span class="bold">DT</span>, which are then sent by the VT IL at a request.</li>
                                            </ol>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p>The <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILSetNodeProperty.htm" class="SourceCode">VTIL_SetNodeProperty</a> function is used to specify the properties of the simulated Virtual Terminal. To change the properties during a test, for most of the properties the VT IL must first be stopped with <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILControlStop.htm" class="SourceCode">VTIL_ControlStop</a> and then restarted after the change is made with <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILControlStart.htm" class="SourceCode">VTIL_ControlStart</a>.</p>
                </div>
                <div>
                    <h2 class="SectionSub"><a name="VTILFunctionActivation" id="VTILFunctionActivation"></a>Activating VT IL Functions <a href="#Shortcuts" class="TopOfPage">[▲ back]</a></h2>
                    <p>In the default setting, the Virtual Terminal Interaction Layer (VT IL for short) uses no network management (Address Claiming), sends no <span class="bold">VT12</span> message, and does not respond to a request, not even with a negative acknowledgment, if a message is not supported. However, this can be activated by assigning various messages.</p>
                    <h3>Network Management</h3>
                    <p>The VT IL automatically carries out address claiming upon start-up. For this purpose the IL uses the device name that is defined in the database with the <span class="bold">NmJ1939xxx</span> node attributes.  More information about network management and behavior in the event of address conflicts can be found on the following page: <a href="J1939andISO11783NMil.htm">J1939/ISO11783 Interaction Layer Network Management</a>.	</p>
                    <h3>VT12 Message</h3>
                    <p>So that the VT IL sends the <span class="bold">VT12</span> message (PGN E600h) and thus can actually communicate with the implements, this message must be assigned as a Tx message to the node.</p>
                    <h3>Acknowledgment</h3>
                    <p>So that the VT IL sends the Acknowledgment message (PGN E800h), it must be assigned as a Tx message to the node. If the J1939 IL finds this message in the send list of the node but the requested message is not entered in the send list of the node, a request is answered with a negative Acknowledgment.</p>
                </div>
                <div>
                    <h2 class="SectionSub"><a name="ObjectSysVarConnection" id="ObjectSysVarConnection"></a>Connecting Objects to System Variables <a href="#Shortcuts" class="TopOfPage">[▲ back]</a></h2>
                    <p>The VT IL can link objects from a transferred object pool with system variables. Possible objects are variables, objects that represent a numeric or textual value, and buttons and soft keys. If the value of an object is changed, the value of the system variable also changes. The connection between the object and system variable is made with the <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILConnectSysVar.htm" class="SourceCode">VTIL_ConnectSysVar</a> function. The system variables must be defined by the user. A change of the system variables does not affect the Virtual Terminal.</p>
                </div>
                <div>
                    <h2 class="SectionSub"><a name="VTILStates" id="VTILStates"></a>VT IL States <a href="#Shortcuts" class="TopOfPage">[▲ back]</a></h2>
                    <p>Depending on the state of the VT IL, various functions are activated:</p>
                    <div>
                        <table style="margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                            <col />
                            <col />
                            <thead>
                                <tr>
                                    <th class="TableStyle_vTable_Head_0_0_RowSep_ColSep">
                                        <p class="TableHead">State</p>
                                    </th>
                                    <th class="TableStyle_vTable_Head_0_0_RowSep_ColEnd">
                                        <p class="TableHead">Description</p>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                        <p class="Table">Initialized</p>
                                    </td>
                                    <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                        <p class="Table">The VT IL is in this state after the measurement start. It changes automatically to <span class="bold">Claiming</span> state if this is not suppressed with <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILControlInit.htm" class="SourceCode">VTIL_ControlInit</a>.</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                        <p class="Table">Claiming</p>
                                    </td>
                                    <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                        <p class="Table">The VT IL is in this state during the Address Claiming phase. No message is sent and only messages of the <span class="bold">Address Claimed</span> type are responded to.</p>
                                        <p class="Table">Once Address Claiming has been successfully completed, the VT IL changes to <span class="bold">Active</span> state.</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                        <p class="Table">Active</p>
                                    </td>
                                    <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                        <p class="Table">The VT IL is activated. The VT Status message is sent cyclically.</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                        <p class="Table">Stopped</p>
                                    </td>
                                    <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                        <p class="Table">The VT IL is deactivated. Messages are no longer sent. When the VT IL changes to this state, a <span class="bold">Cannot Claim Address</span> message is sent.</p>
                                        <p class="Table">The VT IL changes to this state if, for example, a conflict occurs during address claiming, the advanced <a href="J1939andISO11783NMil.htm">address claiming support</a> is not activated and the J1939 IL loses address arbitration.</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p>The state of the VT IL can be queried using the <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILGetState.htm" class="SourceCode">VTIL_GetState</a> function. At a change of state, the <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILOnChangedState.htm" class="SourceCode">VTIL_OnChangedState</a> callback function is called.</p>
                    <p>The state and the address of the VT IL can also be queried and influenced using the system variables, which behave as described for the <a href="../../CANoeCANalyzer/J1939/j1939IL/j1939ILSystemVars.htm">J1939 Interaction Layer</a> (only the <span class="bold">Suspended</span> state is not supported).</p>
                    <p>The following CAPL functions are available to control the state of the VT IL:</p>
                    <ul>
                        <li><a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILControlInit.htm">VTIL_ControlInit</a>
                        </li>
                        <li><a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILControlStart.htm">VTIL_ControlStart</a>
                        </li>
                        <li><a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILControlStop.htm">VTIL_ControlStop</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h2 class="SectionSub"><a name="ErrorInduction" id="ErrorInduction"></a>Fault Injection <a href="#Shortcuts" class="TopOfPage">[▲ back]</a></h2>
                    <p>You can influence the behavior of the VT IL from Test Units or test modules in order to inject faults. For example, you can generate communication errors during a residual bus simulation to which the SUT (System Under Test) has to respond.</p>
                    <p>You will find a description of the associated CAPL functions in the CAPL function overview <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/CAPLfunctionsISOILVTOverview.htm">VT – Fault Injection</a>.</p>
                    <p>Further you can use the <span class="bold">VTIL_*Msg</span> methods in the CAPL function overview <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/CAPLfunctionsISOILVTOverview.htm#VTHandling">VT – Handling</a> to send messages directly (without consistence check).</p>
                </div>
                <div>
                    <h2 class="SectionSub"><a name="ManipulationOfTPs" id="ManipulationOfTPs"></a>Manipulation of Transport Protocols</h2>
                    <p>You have the option of intervening in the flow of <a href="../../CANoeCANalyzer/J1939/procedures/TestingTransportProtocols.htm">Transport Protocols</a>. With a series of <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/CAPLfunctionsISOILVTOverview.htm#VTFaultInjectionTP">CAPL functions</a>, you can specifically block the transmission of transport protocol messages or delay them as required. With the functions for blocking and delaying individual messages, you can specifically test simple scenarios. However, if the test scenario becomes more complex, these functions are no longer sufficient. <span class="Product">CANoe</span> therefore offers you the option of freezing transport protocols and continuing execution in order to inject your own manipulated TP messages in a targeted manner. The functions <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILFreezeTp.htm" class="SourceCode">VTIL_FreezeTp</a>, <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILUnfreezeTp.htm" class="SourceCode">VTIL_UnfreezeTp</a> and <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILKillTp.htm" class="SourceCode">VTIL_KillTp</a> are available for this purpose.</p>
                </div>
                <div>
                    <h2 class="SectionSub"><a name="VTUsage" id="VTUsage"></a>Handling the VT <a href="#Shortcuts" class="TopOfPage">[▲ back]</a></h2>
                    <p>You can control the VT IL from Test Units or test modules just the same as a user would use the Virtual Terminal Window for manual control. The SUT (System Under Test) then reacts to these inputs. The reaction of the SUT can be checked using other functions.</p>
                    <p>The VT IL has no graphical user interface. If you want to visually track the operating steps, you can insert an additional Virtual Terminal Window in the configuration in which you then activate passive mode. In this way you can also visually check the operating steps.</p>
                    <div>
                        <p>You will find a description of the CAPL functions in the following CAPL function overviews:</p>
                    </div>
                    <div>
                        <div>
                            <table style="margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/Stylesheets/vTable.css');" class="TableStyle_vTable" cellspacing="0">
                                <col />
                                <col />
                                <thead>
                                    <tr>
                                        <th class="TableStyle_vTable_Head_0_0_RowSep_ColSep">
                                            <p class="TableHead">Function Group</p>
                                        </th>
                                        <th class="TableStyle_vTable_Head_0_0_RowSep_ColEnd">
                                            <p class="TableHead">Description</p>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                            <p class="Table"><a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/CAPLfunctionsISOILVTOverview.htm">VT – Handling</a>
                                            </p>
                                        </td>
                                        <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                            <p class="Table">These commands are available for handling the VT.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                            <p><a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/CAPLfunctionsISOILVTOverview.htm">VT – Value Request</a>
                                            </p>
                                        </td>
                                        <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                            <p class="Table">You can request values with these commands.</p>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div>
                        <h2 class="SectionSub"><a name="ObjectPools" id="ObjectPools"></a>Storing Object Pools in the VT Memory <a href="#Shortcuts" class="TopOfPage">[▲ back]</a></h2>
                        <p>If you do not want to have to transfer an object pool to the VT IL, you can use the <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILRegisterObjectPool.htm" class="SourceCode">VTIL_RegisterObjectPool</a> function to make an object pool file (*.iop) known to the VT IL by a label. Under specification of the same label, the implement can than load the object pool into the Virtual Terminal with the <span class="bold">Get Version</span> or <span class="bold">Extended Get Version</span> message.</p>
                        <p>Depending on whether the VT IL is used by the Virtual Terminal Window or not, or whether the execution is in distributed mode or not, the object pools are stored in different locations.</p>
                        <div>
                            <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');margin-left: 0;margin-right: auto;width: 100%;" class="TableStyle_vTable" cellspacing="0">
                                <col style="width: 280px;" />
                                <col />
                                <tbody>
                                    <tr>
                                        <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                            <p class="TableHead">VT IL<br />without Virtual Terminal Window</p>
                                        </th>
                                        <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                            <p class="Table">The object pool is stored in the folder <span class="bold">CANoeVTILDataTmp\VTData</span> in the Windows folder for temporary files during the measurement. Instead of the folder <span class="bold">VTData</span>, you can specify another storage location below <span class="bold">CANoeVTILDataTmp</span> with the command <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILSetNodeProperty.htm" class="SourceCode">VTIL_SetNodeProperty</a>. When the measurement is terminated, all files created by the VT IL are deleted again. This ensures that the test environment is identical for each test run.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                            <p class="TableHead">VT-IL Node Is Coupled With the Virtual Terminal Window</p>
                                        </th>
                                        <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                            <p class="Table">The object pool is stored in the <span class="GUI">VTData</span> subfolder of the <span class="Product">CANoe</span> configuration. The storage location can be changed on the configuration page of the Virtual Terminal Window.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                            <p class="TableHead">Execution in <a href="../../CANoeCANalyzer/RTSetup/DistributedMode/DistributedModeConcept.htm" class="red">Distributed Mode</a></p>
                                        </th>
                                        <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                            <p>The object pool is stored on the RT server.</p>
                                            <p>If the VT-IL node is coupled with a Virtual Terminal Window, the object pool is additionally also stored in the <span class="Product">CANoe</span> configuration folder on the user computer.</p>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p>With the function <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/Functions/CAPLfunctionIso11783VTILDeleteAllStoredVersions.htm" class="SourceCode">VTIL_DeleteAllStoredVersions</a> you can already delete the stored object pool versions (in the respective current object pool folder) during a measurement (e.g. within a test).</p>
                        <div>
                            <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');margin-left: 0;margin-right: auto;width: 100%;" class="TableStyle_vTable" cellspacing="0">
                                <col style="width: 280px;" />
                                <col />
                                <tbody>
                                    <tr>
                                        <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                            <p class="TableHead">VT IL<br />without Virtual Terminal Window</p>
                                        </th>
                                        <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                            <p class="Table">All saved object pools in the <span class="bold">CANoeVTILDataTmp</span> folder are deleted.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                            <p class="TableHead">VT-IL Node Is Coupled With the Virtual Terminal Window</p>
                                        </th>
                                        <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd">
                                            <p class="Table">All saved object pools in the <span class="Product">CANoe</span> configuration folder are deleted.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                            <p class="TableHead">Execution in <a href="../../CANoeCANalyzer/RTSetup/DistributedMode/DistributedModeConcept.htm" class="red">Distributed Mode</a></p>
                                        </th>
                                        <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd">
                                            <p class="Table">All saved object pools on the RT server are deleted.</p>
                                            <p class="Table">If the VT-IL node is coupled with a Virtual Terminal Window, the saved object pools in the <span class="Product">CANoe</span> configuration folder are not deleted.</p>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div>
                    <h2 class="SectionSub"><a name="ISO11783Diagnostics" id="ISO11783Diagnostics"></a>ISO11783 Diagnostics <a href="#Shortcuts" class="TopOfPage">[▲ back]</a></h2>
                    <p>In order for the VT IL to send diagnostic messages automatically, first activate ISO11783 diagnostic support. Via CAPL you can activate or deactivate errors which are then communicated via the ISO11783 diagnostic messages (<span class="bold">DM1</span> and <span class="bold">DM2</span>).</p>
                    <p>The description of the corresponding CAPL functions you find in the <a href="../../CAPLFunctions/ISO11783/ISOInteractionLayerVT/CAPLfunctionsISOILVTOverview.htm#DiagnosticFunctions">VTIL CAPL Function Overview - DTC Support</a>.</p>
                    <p>See also <a href="../../CANoeCANalyzer/J1939/procedures/TestingTransportProtocols.htm">Testing Transport Protocols (J1939/ISO11783)</a>.</p>
                </div>
                <p class="LinkList"><a class="MCHelpControl MCHelpControl-Concept conceptLink" data-mc-concepts="IL_OP;IL_PD" href="javascript:void(0);" data-mc-topics="Auxiliary Control Support|../../CANoeCANalyzer/ISO11783/ISO11783IL/ILObjectPoolComponent/ILOPSupportAuxiliaryControl.htm#aanchor7779||Changing and Transmitting Object Attributes|../../CANoeCANalyzer/ISO11783/ISO11783IL/ILObjectPoolComponent/ILOPTransmitAttrValuesToVT.htm#aanchor9837||Changing and Transmitting Object Values|../../CANoeCANalyzer/ISO11783/ISO11783IL/ILObjectPoolComponent/ILOPCommObjPoolAndVT.htm#aanchor9399||Configuration|../../CANoeCANalyzer/ISO11783/ISO11783IL/ILObjectPoolComponent/ILOPConfiguration.htm#aanchor913||Configuration|../../CANoeCANalyzer/ISO11783/ISO11783IL/ILProcessDataComponent/ILPDDConfiguration.htm#aanchor7657||Elements of the Object Pool and System Variables|../../CANoeCANalyzer/ISO11783/ISO11783IL/ILObjectPoolComponent/ILOPSysVariables.htm#aanchor9086||Elements of the Process Data Dictionary and System Variables|../../CANoeCANalyzer/ISO11783/ISO11783IL/ILProcessDataComponent/ILPDDSysVariables.htm#aanchor10442||File Server Interaction Layer (ISO11783)|ISO11783ILFS.htm#aanchor6569||ISO11783 Interaction Layer Implement|../../CANoeCANalyzer/ISO11783/ISO11783IL/ISO11783ILOverview.htm#aanchor7858||J1939 GB/T 27930 Interaction Layer|J1939GBT27930IL.htm#aanchor5451||Object Pool Component|../../CANoeCANalyzer/ISO11783/ISO11783IL/ILObjectPoolComponent/ILOPOverview.htm#aanchor4481||Process Data Component|../../CANoeCANalyzer/ISO11783/ISO11783IL/ILProcessDataComponent/ILPDDOverview.htm#aanchor5290||Setting up the ISO11783 Interaction Layer|../../CANoeCANalyzer/ISO11783/ISO11783IL/ISO11783ILConfig.htm#aanchor1918||State Graph|../../CANoeCANalyzer/ISO11783/ISO11783IL/ILObjectPoolComponent/ILOPStates.htm#aanchor12306||Task Controller Interaction Layer (ISO11783)|ISO11783ILTC.htm#aanchor12141||Use the ISO11783 Interaction Layer|../../CANoeCANalyzer/ISO11783/ISO11783IL/ISO11783ILUsage.htm#aanchor9487||Virtual Terminal Interaction Layer (ISO11783)|#aanchor11473"><span class="MCHelpControl-ConceptHotSpot_"><img class="MCHelpControl_Image_Icon" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="14" width="16" alt="Concept Link Icon" />See Also</span></a>
                </p>
            </div>
        </div>
        <div class="Footer">
            <div class="FooterWhite">
                <table class="FooterWhite" style="border-collapse: collapse;margin-left: auto;margin-right: auto;">
                    <col style="width: 70px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col style="width: 16px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col />
                    <tbody>
                        <tr>
                            <td>
                                <div class="buttons popup-container clearfix topicToolbarProxy topicToolbarProxyFooter _Skins_HTML5TopicToolbar mc-component nocontent">
                                    <div class="button-group-container-left">
                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                            <div>
                                                <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                        <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                            <div>
                                                <div role="img" class="button-icon-wrapper">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <p class="vec_BuildInfo"><a href="../HowToUseOnlineHelp.htm" title="Tips for using the help" alt="Tips for using the help"><img src="../../../Resources/vImages/vBackstage/vHelpInfo.png" /></a>
                                </p>
                            </td>
                            <td>
                                <p class="vec_BuildInfo" style="text-align: right;"><span class="mc-variable Vector.BuildTime variable">2023-09-26T19:49:32</span>
                                </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <table style="width: 100%;border-collapse: separate;border-spacing: 3px 0px;margin-left: auto;margin-right: auto;caption-side: top;">
                <col />
                <col />
                <col />
                <col data-mc-conditions="vConditions.HTML5Link" />
                <tbody>
                    <tr>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;">
                            <p class="vec_Footer">©&#160;Vector Informatik GmbH</p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;text-align: right;">
                            <p class="vec_FooterBold">
                                <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded,vConditions.TestDataEditorExcluded">CANoe</MadCap:conditionalText> Version <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded">17 SP3</MadCap:conditionalText></p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="../ContactCopyrightLicense.htm" class="vec_Footer MCXref xref xrefvec_Footer">Contact/Copyright/License</a>
                            </p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="https://www.vector.com/int/en/company/get-info/privacy-policy/" target="_blank" class="vec_Footer">Data Privacy Notice</a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>