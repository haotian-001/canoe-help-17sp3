<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="" data-mc-search-type="Stem" data-mc-help-system-file-name="CANoeCANalyzer.xml" data-mc-path-to-help-system="../../../../" data-mc-conditions="vConditions.vTESTstudioExcluded" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>MOST Method Protocol Observation (Check Description)</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/vTableMasterPageHeader.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Resources/Stylesheets/vStylesheet.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.remove-highlight-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.collapse-all-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../Resources/Stylesheets/vTable.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlobal.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapUtilities.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapXhr.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTextEffects.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSlideshow.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMessageBus.CrossFrame.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapDefault.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMediaQueries.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAccessibility.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapHelpSystem.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAliasFile.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedbackHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSkinHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.Breadcrumbs.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.MiniToc.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapToc.SideMenu.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapIndex.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapGlossary.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapParser.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearch.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapNavigateTopics.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapLms.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapELearning.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopic.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapFeedback.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapMicroContentComponent.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapSearchHelper.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTopicElements.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapTriPane.js" type="text/javascript" defer="defer">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/SyntaxHighlighting.js">
        </script>
        <script type="text/jscript" src="../../../Resources/vScripts/TabSwitch.js">
        </script>
        <script type="text/javascript" src="../../../Resources/vScripts/Vector.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../CANoeCANalyzer.htm#Topics/TestCommands/CheckDescriptions/CDMOSTMethodProtocolObservation.htm">Open topic with navigation</a>
        </p>
        <div class="Body">
            <div role="main" id="mc-main-content">
                <div>
                    <div>
                        <p class="StructurePath"><a href="../../CANoeCANalyzer/CANoeCANalyzer.htm" class="StructurePath" data-mc-conditions="vConditions.CANalyzerExclude,vConditions.CANoe4ServerExcluded,vConditions.CANoe4SWExcluded,vConditions.TestDataEditorExcluded,vConditions.vTESTstudioExcluded,vConditions.TestUnitRunnerExcluded,vConditions.CANoeNMExcluded"><img src="../../../Resources/vImages/vToolIcons/CANoe_Icon16.png" alt="" />&#160;CANoe</a> » <a href="../CheckDescriptions.htm" class="StructurePath MCXref xref xrefStructurePath">Check Descriptions</a> » <a href="../CheckDescriptions.htm#MOSTspecificChecks" class="StructurePath">MOST-Specific Checks</a> » MOST Method Protocol Observation</p>
                        <h1>MOST Method Protocol Observation</h1>
                        <p class="MenuPath">&#160;</p>
                        <p class="AutoSearchFilterConcepts"><a name="aanchor6530"></a>
                            <MadCap:concept term="SFTestCommands" />
                        </p>
                    </div>
                    <p class="IndexConcept"><a name="kanchor4955"></a>
                    </p>
                </div>
                <div>
                    <table style="mc-table-style: url('../../../Resources/Stylesheets/vTable.css');border-left-style: solid;border-left-width: 1px;border-left-color: #909090;border-right-style: solid;border-right-width: 1px;border-right-color: #909090;border-top-style: solid;border-top-width: 1px;border-top-color: #909090;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #909090;margin-left: 0;margin-right: auto;" class="TableStyle_vTable" cellspacing="0">
                        <col />
                        <col />
                        <col />
                        <tbody>
                            <tr>
                                <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                    <p class="TableHead">Name</p>
                                </th>
                                <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd" colspan="2">
                                    <p class="TableBold">MOST Method Protocol Observation</p>
                                </td>
                            </tr>
                            <tr>
                                <th class="TableStyle_vTable_Body_0_0_RowSep_ColSep">
                                    <p class="TableHead">Description</p>
                                </th>
                                <td class="TableStyle_vTable_Body_0_0_RowSep_ColEnd" colspan="2">
                                    <p class="Table">This check monitors adherence to the MOST protocol in relation to message sequences and response times for methods with <span class="bold">StartResult</span> and <span class="bold">StartResultAck</span> command Optypes. You can specify three parameters when setting up the check. <span class="bold">tWaitForProcessing1</span> and <span class="bold">tWaitForProcessing2</span> correspond in their functionality to the MOST specification timeouts of the same name. <span class="bold">tMaxDuration</span> specifies the maximum length of time that the check will wait for the final <span class="bold">Result</span>/<span class="bold">ResultAck</span> or <span class="bold">Error</span>/<span class="bold">ErrorAck</span> message.</p>
                                    <p class="Table">The behavior of the check at runtime may be described as follows:</p>
                                    <ul>
                                        <li>The check uses spy messages to observe the methods. For this reason, it is important to make sure that the node or channel in which the check is implemented is receiving spy messages relevant to the monitored method correctly, before the check is used.</li>
                                        <li>When messages using the <span class="bold">StartResult</span> and <span class="bold">StartResultAck</span> command Optypes (i.e. requests) are received, the check saves them along with their source and target addresses, InstanceID, time stamp and SenderHandle parameter, if present. If a <span class="bold">StartResultAck </span>message does not contain a SenderHandle parameter (i.e. when the payload data is less than 2 bytes in length), a check violation is triggered immediately and the request is ignored.</li>
                                        <li>If a <span class="bold">Processing</span> or <span class="bold">ProcessingAck</span> Optype report message that matches a saved request is observed, it is added to the saved request along with its time stamp. First, the check determines whether the specified <span class="SourceCode">tWaitForProcessing1</span> timeout has been adhered to by comparing the time stamp of the observed message to the message that was last added to the request. If the duration is longer than the specified timeout, a check violation is triggered. If <span class="bold">Processing</span> or <span class="bold">ProcessingAck</span> messages were already observed and added to the request, then the <span class="SourceCode">tWaitForProcessing2</span> timeout is used to check the elapsed duration (see MOST specification).</li>
                                        <li>If a <span class="bold">Result</span>/<span class="bold">ResultAck</span> or <span class="bold">Error</span>/<span class="bold">ErrorAck</span> Optype report message that matches a saved request is observed, this resolves the request, i.e., error messages are also valid responses for the purposes of protocol monitoring. The same <span class="SourceCode">tWaitForProcessing1</span> and/or <span class="SourceCode">tWaitForProcessing2</span> timeout checks are carried out beforehand.</li>
                                        <li>If an <span class="bold">Abort</span>/<span class="bold">AbortAck</span> Optype command message that matches a saved request is observed, this is added to the request along with its time stamp, since an <span class="bold">Error</span>/<span class="bold">ErrorAck</span> reply is expected afterwards. A check violation is triggered if this is not observed within the <span class="SourceCode">tWaitForProcessing2</span> timeout period.</li>
                                        <li>The saved requests are compared with the current system time at regular intervals. The following conditions are checked:</li>
                                        <li class="Indent">If more time than was specified for the reply duration (<span class="SourceCode">tMaxDuration</span>) elapses after receipt of a request's <span class="bold">StartResult</span>/<span class="bold">StartResultAck</span> message, a check violation is triggered and the request is subsequently deleted.</li>
                                        <li class="Indent">If no further messages are observed for a request after receipt of the <span class="bold">StartResult</span>/<span class="bold">StartResultAck</span> message, the check determines whether more time has elapsed than is specified for <span class="SourceCode">tWaitForProcessing1</span>. If this is the case, a check violation is triggered.</li>
                                        <li class="Indent">If the most recently saved <span class="bold">Processing</span>/<span class="bold">ProcessingAck</span> message exists in a request, the check determines whether more time has elapsed than was specified for <span class="SourceCode">tWaitForProcessing2</span>. If this is the case, a check violation is triggered.</li>
                                        <li class="Indent">If the most recently saved message in a request is of the <span class="bold">Abort</span>/<span class="bold">AbortAck</span> Optype, the check determines whether more time has elapsed than was specified for <span class="SourceCode">tWaitForProcessing1</span>. If this is the case, a check violation is triggered.</li>
                                        <li>If several <span class="bold">StartResult</span>/<span class="bold">StartResultAck</span> messages with the same address appear directly after one another, the check saves the first of these as a request and ignores all of the subsequent messages until the maximum reply time elapses.</li>
                                    </ul>
                                    <p class="Table">The following diagram gives an overview of the message sequences accepted by the check, including the timeout conditions that are checked:</p>
                                    <p class="Table">
                                        <img src="../../../Resources/Images/TestCommands/TSLCheckMOSTMethodProtocolObservation1.gif" />
                                    </p>
                                    <p class="Table">Three typical scenarios that may arise during the observation of a method are illustrated below.</p>
                                    <ul>
                                        <li>In <span class="bold">Case A</span> the maximum timout is exceeded.</li>
                                        <li>In <span class="bold">Case B</span> <span class="SourceCode">tWaitForProcessing1</span> is exceeded because the result message arrives too late.</li>
                                        <li>In <span class="bold">Case C</span> the send interval between the "Processing" messages is too long, which triggers several check violations because <span class="SourceCode">tWaitForProcessing2</span> is exceeded:</li>
                                    </ul>
                                    <p class="Table">
                                        <img src="../../../Resources/Images/TestCommands/TSLCheckMOSTMethodProtocolObservation2.gif" />
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <th class="TableStyle_vTable_Body_0_0_RowEnd_ColSep">
                                    <p class="TableHead">CAPL&#160;Function</p>
                                </th>
                                <td class="TableStyle_vTable_Body_0_0_RowEnd_ColEnd" colspan="2">
                                    <p class="TableBold">Check Functions</p>
                                    <ul>
                                        <li><a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkCreateMostMethodProtocolError.htm" class="SourceCode">ChkCreate_MostMethodProtocolError, ChkStart_MostMethodProtocolError</a>
                                            <br />When implementing a <span class="bold">MethodProtocolError</span> check, you can use a callback function to obtain information about the last request message that triggered the current protocol violation.<br />Functions for statistical analysis are also available.</li>
                                    </ul>
                                    <p class="TableBold">Check-specific Functions</p>
                                    <ul>
                                        <li><span class="bold">Last Request</span>
                                            <br /><a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryRequestDstAdr.htm" class="SourceCode">ChkQuery_RequestDstAdr</a>, <a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryRequestFBlockId.htm" class="SourceCode">ChkQuery_RequestFBlockId</a>, <a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryRequestFunctionId.htm" class="SourceCode">ChkQuery_RequestFunctionId</a>, <a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryRequestInstId.htm" class="SourceCode">ChkQuery_RequestInstId</a>, <a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryRequestOpType.htm" class="SourceCode">ChkQuery_RequestOpType</a>, <a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryRequestSrcAdr.htm" class="SourceCode">ChkQuery_RequestSrcAdr</a>, <a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryRequestTimestamp.htm" class="SourceCode">ChkQuery_RequestTimestamp</a></li>
                                        <li><span class="bold">Statistics</span>
                                            <br /><a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryNumRequests.htm" class="SourceCode">ChkQuery_NumRequests</a>, <a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryNumTimedoutRequests.htm" class="SourceCode">ChkQuery_NumTimedoutRequests</a>, <a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryStatAvResponseTime.htm" class="SourceCode">ChkQuery_StatAvResponseTime</a>, <a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryStatMaxValidResponseTime.htm" class="SourceCode">ChkQuery_StatMaxValidResponseTime</a>, <a href="../../CAPLFunctions/Test/Functions/CAPLfunctionChkQueryStatMinResponseTime.htm" class="SourceCode">ChkQuery_StatMinResponseTime</a></li>
                                    </ul>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="LinkList"><a href="../../CANoeCANalyzer/MOST/MOSTTestConcept.htm" class="LinkList" data-mc-conditions="vConditions.vTESTstudioExcluded">MOST Test Concept</a>&#160;</p>
            </div>
        </div>
        <div class="Footer">
            <div class="FooterWhite">
                <table class="FooterWhite" style="border-collapse: collapse;margin-left: auto;margin-right: auto;">
                    <col style="width: 70px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col style="width: 16px;" data-mc-conditions="vConditions.HTML5Link" />
                    <col data-mc-conditions="" />
                    <col />
                    <tbody>
                        <tr>
                            <td>
                                <div class="buttons popup-container clearfix topicToolbarProxy topicToolbarProxyFooter _Skins_HTML5TopicToolbar mc-component nocontent">
                                    <div class="button-group-container-left">
                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                            <div>
                                                <div role="img" class="button-icon-wrapper" aria-label="Expand all">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                        <button class="button needs-pie remove-highlight-button" title="Remove Highlights">
                                            <div>
                                                <div role="img" class="button-icon-wrapper">
                                                    <div class="button-icon"> </div>
                                                </div>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <p class="vec_BuildInfo"><a href="../../Shared/HowToUseOnlineHelp.htm" title="Tips for using the help" alt="Tips for using the help"><img src="../../../Resources/vImages/vBackstage/vHelpInfo.png" /></a>
                                </p>
                            </td>
                            <td>
                                <p class="vec_BuildInfo">•&#160;&#160;Technical&#160;References are only&#160;available&#160;in&#160;English</p>
                            </td>
                            <td>
                                <p class="vec_BuildInfo" style="text-align: right;"><span class="mc-variable Vector.BuildTime variable">2023-09-26T19:49:32</span>
                                </p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <table style="width: 100%;border-collapse: separate;border-spacing: 3px 0px;margin-left: auto;margin-right: auto;caption-side: top;">
                <col />
                <col />
                <col />
                <col data-mc-conditions="vConditions.HTML5Link" />
                <tbody>
                    <tr>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;">
                            <p class="vec_Footer">©&#160;Vector Informatik GmbH</p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 5pt;text-align: right;">
                            <p class="vec_FooterBold">
                                <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded,vConditions.TestDataEditorExcluded">CANoe</MadCap:conditionalText> Version <MadCap:conditionalText data-mc-conditions="vConditions.vTESTstudioExcluded">17 SP3</MadCap:conditionalText></p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="../../Shared/ContactCopyrightLicense.htm" class="vec_Footer MCXref xref xrefvec_Footer">Contact/Copyright/License</a>
                            </p>
                        </td>
                        <td style="background-color: #b70032;padding-left: 5pt;padding-right: 5pt;padding-top: 5pt;padding-bottom: 0pt;text-align: right;">
                            <p class="vec_Footer"><a href="https://www.vector.com/int/en/company/get-info/privacy-policy/" target="_blank" class="vec_Footer">Data Privacy Notice</a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>